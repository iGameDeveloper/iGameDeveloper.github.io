// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,y,da,ga,ha,J,ia,ja,la,na,oa,K,pa,qa,P,ra,sa,ta,ua,R,wa,xa,Aa,Ba,Ca,S,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,U,Pb,Qb,V,Rb,Sb={},Tb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(c){return c.__proto__}:function(c){return c.constructor.prototype});
(function(){function c(a,b,f,t){this.set(a,b,f,t)}function l(){this.Nb=this.Mb=this.Pb=this.Ob=this.kc=this.jc=this.ic=this.hc=0}function n(a,b,f,t){a<b?f<t?(w=a<f?a:f,r=b>t?b:t):(w=a<t?a:t,r=b>f?b:f):f<t?(w=b<f?b:f,r=a>t?a:t):(w=b<t?b:t,r=a>f?a:f)}function p(){this.items=this.ec=null;this.ef=0;T&&(this.ec=new Set);this.ye=[];this.Jc=!0}function v(a){O[L++]=a}function q(){this.Z=this.Ig=this.y=this.Yg=0}function h(a){this.pe=[];this.ej=this.gj=this.hj=this.fj=0;this.yf(a)}function b(a,b){this.eh=
a;this.dh=b;this.cells={}}function d(a,b){this.eh=a;this.dh=b;this.cells={}}function e(a,b,f){var t;return Y.length?(t=Y.pop(),t.Hh=a,t.x=b,t.y=f,t):new aa(a,b,f)}function a(a,b,f){this.Hh=a;this.x=b;this.y=f;this.oa=new ba}function f(a,b,f){var t;return z.length?(t=z.pop(),t.Hh=a,t.x=b,t.y=f,t):new ca(a,b,f)}function k(a,b,f){this.Hh=a;this.x=b;this.y=f;this.oa=[];this.be=!0;this.Zb=new ba;this.Ce=!1}function g(a,b){return a.Kb-b.Kb}y=function(a){window.console&&window.console.log&&window.console.log(a)};
da=function(a){window.console&&window.console.error&&window.console.error(a)};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};J=function(a){return"string"===typeof a};ia=function(a){return 0<a&&0===(a-1&a)};ja=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};la=function(a){return 0>a?-a:a};na=function(a,b){return a<b?a:b};oa=Math.PI;K=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var b=a|0;return b===a?b:b+1};qa=function(a,b,f,t,g,d,k,m){var e,
u,h,w;a<f?(u=a,e=f):(u=f,e=a);g<k?(w=g,h=k):(w=k,h=g);if(e<w||u>h)return!1;b<t?(u=b,e=t):(u=t,e=b);d<m?(w=d,h=m):(w=m,h=d);if(e<w||u>h)return!1;e=g-a+k-f;u=d-b+m-t;a=f-a;b=t-b;g=k-g;d=m-d;m=la(b*g-d*a);return la(g*u-d*e)>m?!1:la(a*u-b*e)<=m};c.prototype.set=function(a,b,f,t){this.left=a;this.top=b;this.right=f;this.bottom=t};c.prototype.Ie=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};c.prototype.width=function(){return this.right-this.left};c.prototype.height=
function(){return this.bottom-this.top};c.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};c.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};c.prototype.Rb=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};c.prototype.Me=function(a){return this.left===a.left&&this.top===a.top&&this.right===
a.right&&this.bottom===a.bottom};P=c;l.prototype.Eg=function(a){this.hc=a.left;this.ic=a.top;this.jc=a.right;this.kc=a.top;this.Ob=a.right;this.Pb=a.bottom;this.Mb=a.left;this.Nb=a.bottom};l.prototype.ll=function(a,b){if(0===b)this.Eg(a);else{var f=Math.sin(b),t=Math.cos(b),g=a.left*f,d=a.top*f,k=a.right*f,f=a.bottom*f,m=a.left*t,e=a.top*t,u=a.right*t,t=a.bottom*t;this.hc=m-d;this.ic=e+g;this.jc=u-d;this.kc=e+k;this.Ob=u-f;this.Pb=t+k;this.Mb=m-f;this.Nb=t+g}};l.prototype.offset=function(a,b){this.hc+=
a;this.ic+=b;this.jc+=a;this.kc+=b;this.Ob+=a;this.Pb+=b;this.Mb+=a;this.Nb+=b;return this};var w=0,r=0;l.prototype.jj=function(a){n(this.hc,this.jc,this.Ob,this.Mb);a.left=w;a.right=r;n(this.ic,this.kc,this.Pb,this.Nb);a.top=w;a.bottom=r};l.prototype.Rb=function(a,b){var f=this.hc,t=this.ic,g=this.jc-f,d=this.kc-t,k=this.Ob-f,m=this.Pb-t,e=a-f,u=b-t,h=g*g+d*d,w=g*k+d*m,d=g*e+d*u,c=k*k+m*m,r=k*e+m*u,l=1/(h*c-w*w),g=(c*d-w*r)*l,h=(h*r-w*d)*l;if(0<=g&&0<h&&1>g+h)return!0;g=this.Mb-f;d=this.Nb-t;h=g*
g+d*d;w=g*k+d*m;d=g*e+d*u;l=1/(h*c-w*w);g=(c*d-w*r)*l;h=(h*r-w*d)*l;return 0<=g&&0<h&&1>g+h};ra=l;sa=function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);return a};ta=function(a,b){var f,t;b=K(b);if(!(0>b||b>=a.length)){f=b;for(t=a.length-1;f<t;f++)a[f]=a[f+1];ua(a,t)}};ua=function(a,b){a.length=b};R=function(a){ua(a,0)};wa=function(a,b){R(a);var f,t;f=0;for(t=b.length;f<t;++f)a[f]=b[f]};xa=function(a,b){a.push.apply(a,b)};Aa=function(a,b){var f,t;f=0;for(t=a.length;f<t;++f)if(a[f]===b)return f;
return-1};Ba=function(a,b){var f=Aa(a,b);-1!==f&&ta(a,f)};Ca=function(a,b,f){return a<b?b:a>f?f:a};S=function(a){return a/(180/oa)};Da=function(a){return 180/oa*a};Ea=function(a){a%=360;0>a&&(a+=360);return a};Fa=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ga=function(a){return Ea(Da(a))};Ha=function(a){return Fa(S(a))};Ia=function(a,b,f,t){return Math.atan2(t-b,f-a)};Ja=function(a,b){if(a===b)return 0;var f=Math.sin(a),t=Math.cos(a),g=Math.sin(b),d=Math.cos(b),f=f*g+t*d;return 1<=f?0:-1>=f?oa:Math.acos(f)};
Ka=function(a,b,f){var t=Math.sin(a),g=Math.cos(a),d=Math.sin(b),k=Math.cos(b);return Math.acos(t*d+g*k)>f?0<g*d-t*k?Fa(a+f):Fa(a-f):Fa(b)};La=function(a,b){var f=Math.sin(a),t=Math.cos(a),g=Math.sin(b),d=Math.cos(b);return 0>=t*g-f*d};Na=function(a,b,f,t){a=f-a;b=t-b;return Math.sqrt(a*a+b*b)};Oa=function(a,b){return!a!==!b};Pa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Qa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var N=+new Date;Ra=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-N};var m=!1,u=m=!1,va=!1;"undefined"!==typeof window&&(m=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),m=!m&&/safari/i.test(navigator.userAgent),u=/(iphone|ipod|ipad)/i.test(navigator.userAgent),va=window.c2ejecta);
var T=!m&&!va&&!u&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.sc()?!1:T?this.ec.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(T)this.ec.has(a)||(this.ec.add(a),this.Jc=!1);else{var b=a.toString(),f=this.items;f?f.hasOwnProperty(b)||(f[b]=a,this.ef++,this.Jc=!1):(this.items={},this.items[b]=a,this.ef=1,this.Jc=!1)}};p.prototype.remove=function(a){if(!this.sc())if(T)this.ec.has(a)&&(this.ec["delete"](a),
this.Jc=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.ef--,this.Jc=!1)}};p.prototype.clear=function(){this.sc()||(T?this.ec.clear():(this.items=null,this.ef=0),R(this.ye),this.Jc=!0)};p.prototype.sc=function(){return 0===this.count()};p.prototype.count=function(){return T?this.ec.size:this.ef};var O=null,L=0;p.prototype.wp=function(){if(!this.Jc){if(T)R(this.ye),O=this.ye,L=0,this.ec.forEach(v),O=null,L=0;else{var a=this.ye;R(a);var b,f=0,t=this.items;
if(t)for(b in t)t.hasOwnProperty(b)&&(a[f++]=t[b])}this.Jc=!0}};p.prototype.bd=function(){this.wp();return this.ye};ba=p;new ba;Sa=function(a,b){T?Ta(a,b.ec):Ua(a,b.bd())};Ta=function(a,b){var f,t,g,d;t=f=0;for(g=a.length;f<g;++f)d=a[f],b.has(d)||(a[t++]=d);ua(a,t)};Ua=function(a,b){var f,t,g,d;t=f=0;for(g=a.length;f<g;++f)d=a[f],-1===Aa(b,d)&&(a[t++]=d);ua(a,t)};q.prototype.add=function(a){this.y=a-this.Yg;this.Ig=this.Z+this.y;this.Yg=this.Ig-this.Z-this.y;this.Z=this.Ig};q.prototype.reset=function(){this.Z=
this.Ig=this.y=this.Yg=0};Va=q;Wa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};h.prototype.yf=function(a){this.Wk=a;this.yg=a.length/2;this.pe.length=a.length;this.Zg=this.$g=-1;this.mj=0};h.prototype.zo=function(){return!this.Wk.length};h.prototype.Ga=function(){for(var a=this.pe,b=a[0],f=b,t=a[1],g=t,d,k,m=1,e=this.yg;m<e;++m)k=2*m,d=a[k],k=a[k+1],d<b&&(b=d),d>f&&(f=d),k<t&&(t=k),k>g&&(g=k);this.fj=b;this.gj=f;this.hj=t;this.ej=g};h.prototype.Eg=function(a,b,f){this.pe.length=
8;this.yg=4;var t=this.pe;t[0]=a.left-b;t[1]=a.top-f;t[2]=a.right-b;t[3]=a.top-f;t[4]=a.right-b;t[5]=a.bottom-f;t[6]=a.left-b;t[7]=a.bottom-f;this.$g=a.right-a.left;this.Zg=a.bottom-a.top;this.Ga()};h.prototype.lm=function(a,b,f){if(this.$g!==a||this.Zg!==b||this.mj!==f){this.$g=a;this.Zg=b;this.mj=f;var t,g,d,k,m,e=0,u=1,h=this.Wk,w=this.pe;0!==f&&(e=Math.sin(f),u=Math.cos(f));f=0;for(d=this.yg;f<d;f++)t=2*f,g=t+1,k=h[t]*a,m=h[g]*b,w[t]=k*u-m*e,w[g]=m*u+k*e;this.Ga()}};h.prototype.Rb=function(a,
b){var f=this.pe;if(a===f[0]&&b===f[1])return!0;var t,g,d,k=this.yg,m=this.fj-110,e=this.hj-101,u=this.gj+131,h=this.ej+120,w,c,r=0,l=0;for(t=0;t<k;t++)g=2*t,d=(t+1)%k*2,w=f[g],g=f[g+1],c=f[d],d=f[d+1],qa(m,e,a,b,w,g,c,d)&&r++,qa(u,h,a,b,w,g,c,d)&&l++;return 1===r%2||1===l%2};Xa=h;b.prototype.Pc=function(a,b,f){var t;t=this.cells[a];return t?(t=t[b])?t:f?(t=e(this,a,b),this.cells[a][b]=t):null:f?(t=e(this,a,b),this.cells[a]={},this.cells[a][b]=t):null};b.prototype.Ha=function(a){return K(a/this.eh)};
b.prototype.Ia=function(a){return K(a/this.dh)};b.prototype.update=function(a,b,f){var t,g,d,k,m;if(b)for(t=b.left,g=b.right;t<=g;++t)for(d=b.top,k=b.bottom;d<=k;++d)if(!f||!f.Rb(t,d))if(m=this.Pc(t,d,!1))m.remove(a),m.sc()&&(m.oa.clear(),1E3>Y.length&&Y.push(m),this.cells[t][d]=null);if(f)for(t=f.left,g=f.right;t<=g;++t)for(d=f.top,k=f.bottom;d<=k;++d)b&&b.Rb(t,d)||this.Pc(t,d,!0).Nh(a)};b.prototype.Yk=function(a,b){var f,t,g,d,k,m;f=this.Ha(a.left);g=this.Ia(a.top);t=this.Ha(a.right);for(k=this.Ia(a.bottom);f<=
t;++f)for(d=g;d<=k;++d)(m=this.Pc(f,d,!1))&&m.dump(b)};Ya=b;d.prototype.Pc=function(a,b,g){var t;t=this.cells[a];return t?(t=t[b])?t:g?(t=f(this,a,b),this.cells[a][b]=t):null:g?(t=f(this,a,b),this.cells[a]={},this.cells[a][b]=t):null};d.prototype.Ha=function(a){return K(a/this.eh)};d.prototype.Ia=function(a){return K(a/this.dh)};d.prototype.update=function(a,b,f){var t,g,d,k,m;if(b)for(t=b.left,g=b.right;t<=g;++t)for(d=b.top,k=b.bottom;d<=k;++d)if(!f||!f.Rb(t,d))if(m=this.Pc(t,d,!1))m.remove(a),m.sc()&&
(m.reset(),1E3>z.length&&z.push(m),this.cells[t][d]=null);if(f)for(t=f.left,g=f.right;t<=g;++t)for(d=f.top,k=f.bottom;d<=k;++d)b&&b.Rb(t,d)||this.Pc(t,d,!0).Nh(a)};d.prototype.Yk=function(a,b,f,t,g){var d,k;a=this.Ha(a);b=this.Ia(b);f=this.Ha(f);for(d=this.Ia(t);a<=f;++a)for(t=b;t<=d;++t)(k=this.Pc(a,t,!1))&&k.dump(g)};d.prototype.Fo=function(a){var b,f,t,g,d;b=a.left;t=a.top;f=a.right;for(g=a.bottom;b<=f;++b)for(a=t;a<=g;++a)if(d=this.Pc(b,a,!1))d.be=!1};Za=d;var Y=[];a.prototype.sc=function(){return this.oa.sc()};
a.prototype.Nh=function(a){this.oa.add(a)};a.prototype.remove=function(a){this.oa.remove(a)};a.prototype.dump=function(a){xa(a,this.oa.bd())};aa=a;var z=[];k.prototype.sc=function(){if(!this.oa.length)return!0;if(this.oa.length>this.Zb.count())return!1;this.vh();return!0};k.prototype.Nh=function(a){this.Zb.contains(a)?(this.Zb.remove(a),this.Zb.sc()&&(this.Ce=!1)):this.oa.length?(this.oa[this.oa.length-1].Wb()>a.Wb()&&(this.be=!1),this.oa.push(a)):(this.oa.push(a),this.be=!0)};k.prototype.remove=
function(a){this.Zb.add(a);this.Ce=!0;30<=this.Zb.count()&&this.vh()};k.prototype.vh=function(){this.Ce&&(this.Zb.count()===this.oa.length?this.reset():(Sa(this.oa,this.Zb),this.Zb.clear(),this.Ce=!1))};k.prototype.Wm=function(){this.be||(this.oa.sort(g),this.be=!0)};k.prototype.reset=function(){R(this.oa);this.be=!0;this.Zb.clear();this.Ce=!1};k.prototype.dump=function(a){this.vh();this.Wm();this.oa.length&&a.push(this.oa)};ca=k;var C="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
$a=function(a){return 0>=a||11<=a?"source-over":C[a-1]};ab=function(a,b,f){if(f)switch(a.Ea=f.ONE,a.Ba=f.ONE_MINUS_SRC_ALPHA,b){case 1:a.Ea=f.ONE;a.Ba=f.ONE;break;case 3:a.Ea=f.ONE;a.Ba=f.ZERO;break;case 4:a.Ea=f.ONE_MINUS_DST_ALPHA;a.Ba=f.ONE;break;case 5:a.Ea=f.DST_ALPHA;a.Ba=f.ZERO;break;case 6:a.Ea=f.ZERO;a.Ba=f.SRC_ALPHA;break;case 7:a.Ea=f.ONE_MINUS_DST_ALPHA;a.Ba=f.ZERO;break;case 8:a.Ea=f.ZERO;a.Ba=f.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ea=f.DST_ALPHA;a.Ba=f.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ea=
f.ONE_MINUS_DST_ALPHA,a.Ba=f.SRC_ALPHA}};bb=function(a){return Math.round(1E6*a)/1E6};cb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};db=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||cb(a.tagName,"canvas")?!0:!1}})();var Ub="undefined"!==typeof Float32Array?Float32Array:Array;function Vb(c){var l=new Ub(3);c&&(l[0]=c[0],l[1]=c[1],l[2]=c[2]);return l}
function X(c){var l=new Ub(16);c&&(l[0]=c[0],l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=c[6],l[7]=c[7],l[8]=c[8],l[9]=c[9],l[10]=c[10],l[11]=c[11],l[12]=c[12],l[13]=c[13],l[14]=c[14],l[15]=c[15]);return l}function Wb(c,l){l[0]=c[0];l[1]=c[1];l[2]=c[2];l[3]=c[3];l[4]=c[4];l[5]=c[5];l[6]=c[6];l[7]=c[7];l[8]=c[8];l[9]=c[9];l[10]=c[10];l[11]=c[11];l[12]=c[12];l[13]=c[13];l[14]=c[14];l[15]=c[15]}
function Xb(c,l){var n=l[0],p=l[1];l=l[2];c[0]*=n;c[1]*=n;c[2]*=n;c[3]*=n;c[4]*=p;c[5]*=p;c[6]*=p;c[7]*=p;c[8]*=l;c[9]*=l;c[10]*=l;c[11]*=l}
function Yb(c,l,n,p){p||(p=X());var v,q,h,b,d,e,a,f,k=c[0],g=c[1];c=c[2];q=n[0];h=n[1];v=n[2];n=l[1];e=l[2];k===l[0]&&g===n&&c===e?(c=p,c[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1):(n=k-l[0],e=g-l[1],a=c-l[2],f=1/Math.sqrt(n*n+e*e+a*a),n*=f,e*=f,a*=f,l=h*a-v*e,v=v*n-q*a,q=q*e-h*n,(f=Math.sqrt(l*l+v*v+q*q))?(f=1/f,l*=f,v*=f,q*=f):q=v=l=0,h=e*q-a*v,b=a*l-n*q,d=n*v-e*l,(f=Math.sqrt(h*h+b*b+d*d))?(f=1/f,h*=f,b*=f,d*=f):d=b=h=0,
p[0]=l,p[1]=h,p[2]=n,p[3]=0,p[4]=v,p[5]=b,p[6]=e,p[7]=0,p[8]=q,p[9]=d,p[10]=a,p[11]=0,p[12]=-(l*k+v*g+q*c),p[13]=-(h*k+b*g+d*c),p[14]=-(n*k+e*g+a*c),p[15]=1)}
(function(){function c(b,d,e){this.zd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.M=!!e;this.eg=this.Xe=!1;this.mh=0;this.Rg=1;this.Si=1E3;this.Cp=(this.Si-this.Rg)/32768;this.ah=Vb([0,0,100]);this.kk=Vb([0,0,0]);this.Gl=Vb([0,1,0]);this.If=Vb([1,1,1]);this.wj=!0;this.tg=X();this.ab=X();this.ai=X();this.lh=X();this.e=b;this.version=0===this.e.getParameter(this.e.VERSION).indexOf("WebGL 2")?2:1;this.Rj()}function l(b,d,e){this.e=b;this.zf=d;
this.name=e;this.kb=b.getAttribLocation(d,"aPos");this.Wc=b.getAttribLocation(d,"aTex");this.ik=b.getUniformLocation(d,"matP");this.pg=b.getUniformLocation(d,"matMV");this.ie=b.getUniformLocation(d,"opacity");this.ci=b.getUniformLocation(d,"colorFill");this.jk=b.getUniformLocation(d,"samplerFront");this.jf=b.getUniformLocation(d,"samplerBack");this.Gd=b.getUniformLocation(d,"destStart");this.Fd=b.getUniformLocation(d,"destEnd");this.lf=b.getUniformLocation(d,"seconds");this.ei=b.getUniformLocation(d,
"pixelWidth");this.di=b.getUniformLocation(d,"pixelHeight");this.hf=b.getUniformLocation(d,"layerScale");this.gf=b.getUniformLocation(d,"layerAngle");this.mf=b.getUniformLocation(d,"viewOrigin");this.kf=b.getUniformLocation(d,"scrollPos");this.mo=!!(this.ei||this.di||this.lf||this.jf||this.Gd||this.Fd||this.hf||this.gf||this.mf||this.kf);this.sk=this.tk=-999;this.sg=1;this.ok=this.nk=0;this.qk=this.mk=this.lk=1;this.wk=this.vk=this.uk=this.yk=this.xk=this.pk=0;this.$h=[];this.rk=X();this.ie&&b.uniform1f(this.ie,
1);this.ci&&b.uniform4f(this.ci,1,1,1,1);this.jk&&b.uniform1i(this.jk,0);this.jf&&b.uniform1i(this.jf,1);this.Gd&&b.uniform2f(this.Gd,0,0);this.Fd&&b.uniform2f(this.Fd,1,1);this.hf&&b.uniform1f(this.hf,1);this.gf&&b.uniform1f(this.gf,0);this.mf&&b.uniform2f(this.mf,0,0);this.kf&&b.uniform2f(this.kf,0,0);this.lf&&b.uniform1f(this.lf,0);this.ud=!1}function n(b,d){return b[0]===d[0]&&b[1]===d[1]&&b[2]===d[2]&&b[3]===d[3]&&b[4]===d[4]&&b[5]===d[5]&&b[6]===d[6]&&b[7]===d[7]&&b[8]===d[8]&&b[9]===d[9]&&
b[10]===d[10]&&b[11]===d[11]&&b[12]===d[12]&&b[13]===d[13]&&b[14]===d[14]&&b[15]===d[15]}function p(b,d){this.type=b;this.j=d;this.e=d.e;this.Xb=this.Fa=this.Mk=0;this.u=this.qb=null;this.ml=[]}var v=X();c.prototype.Rj=function(){var b=this.e,d;this.ck=1;this.Cd=this.Bd=null;this.Qf=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.M?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):
b.disable(b.DEPTH_TEST);this.dk=b.ONE;this.bk=b.ONE_MINUS_SRC_ALPHA;this.Pg=new Float32Array(8E3*(this.M?3:2));this.Jg=new Float32Array(16E3);this.Rk=new Float32Array(32E3);this.mi=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.mi);b.bufferData(b.ARRAY_BUFFER,this.Rk.byteLength,b.DYNAMIC_DRAW);this.Hf=Array(4);this.Cf=Array(4);for(d=0;4>d;d++)this.Hf[d]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.Hf[d]),b.bufferData(b.ARRAY_BUFFER,this.Pg.byteLength,b.DYNAMIC_DRAW),this.Cf[d]=b.createBuffer(),
b.bindBuffer(b.ARRAY_BUFFER,this.Cf[d]),b.bufferData(b.ARRAY_BUFFER,this.Jg.byteLength,b.DYNAMIC_DRAW);this.nc=0;this.po=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.po);for(var e=new Uint16Array(12E3),a=d=0;12E3>d;)e[d++]=a,e[d++]=a+1,e[d++]=a+2,e[d++]=a,e[d++]=a+2,e[d++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,e,b.STATIC_DRAW);this.ni=this.ve=this.Cc=0;this.Y=[];d=this.M?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";e=this.Je({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},d,"<default>");this.Y.push(e);e=this.Je({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Y.push(e);e=this.Je({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},d,"<earlyz>");this.Y.push(e);e=this.Je({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
d,"<fill>");this.Y.push(e);for(var f in Zb)Zb.hasOwnProperty(f)&&this.Y.push(this.Je(Zb[f],d,f));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.Ic=[];this.mc=0;this.Ca=!1;this.sj=this.ff=-1;this.Vd=null;this.uh=b.createFramebuffer();this.Sf=this.zg=null;this.dj=!1;this.M&&(this.Sf=b.createRenderbuffer());this.ad=Vb([0,0,0]);this.zk=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.zk&&(this.zk=2048);this.Ka(0)};l.prototype.Pi=function(b){n(this.rk,b)||(Wb(b,this.rk),this.e.uniformMatrix4fv(this.pg,
!1,b))};c.prototype.Je=function(b,d,e){var a=this.e,f=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(f,b.src);a.compileShader(f);if(!a.getShaderParameter(f,a.COMPILE_STATUS))return a.deleteShader(f),null;var k=a.createShader(a.VERTEX_SHADER);a.shaderSource(k,d);a.compileShader(k);if(!a.getShaderParameter(k,a.COMPILE_STATUS))return a.deleteShader(f),a.deleteShader(k),null;d=a.createProgram();a.attachShader(d,f);a.attachShader(d,k);a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS))return a.deleteShader(f),
a.deleteShader(k),a.deleteProgram(d),null;a.useProgram(d);a.deleteShader(f);a.deleteShader(k);e=new l(a,d,e);e.sh=b.sh||0;e.th=b.th||0;e.rj=!!b.rj;e.Eb=!!b.Eb;e.$i=!!b.$i;e.A=b.A||[];b=0;for(f=e.A.length;b<f;b++)e.A[b][1]=a.getUniformLocation(d,e.A[b][0]),e.$h.push(0),a.uniform1f(e.A[b][1],0);return e};c.prototype.Fh=function(b){var d,e;d=0;for(e=this.Y.length;d<e;d++)if(this.Y[d].name===b)return d;return-1};c.prototype.Vk=function(b,d,e){var a=this.ab,f=this.tg,k=[0,0,0,0,0,0,0,0];k[0]=a[0]*b+a[4]*
d+a[12];k[1]=a[1]*b+a[5]*d+a[13];k[2]=a[2]*b+a[6]*d+a[14];k[3]=a[3]*b+a[7]*d+a[15];k[4]=f[0]*k[0]+f[4]*k[1]+f[8]*k[2]+f[12]*k[3];k[5]=f[1]*k[0]+f[5]*k[1]+f[9]*k[2]+f[13]*k[3];k[6]=f[2]*k[0]+f[6]*k[1]+f[10]*k[2]+f[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],e[0]=(.5*k[4]+.5)*this.width,e[1]=(.5*k[5]+.5)*this.height)};c.prototype.Ld=function(b,d,e){if(this.width!==b||this.height!==d||e){this.pd();e=this.e;this.width=b;this.height=d;e.viewport(0,0,b,d);Yb(this.ah,this.kk,
this.Gl,this.ab);if(this.M){var a=-b/2;b=b/2;var f=d/2;d=-d/2;var k=this.Rg,g=this.Si,h=this.tg;h||(h=X());var c=b-a,l=d-f,m=g-k;h[0]=2/c;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/l;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/m;h[11]=0;h[12]=-(a+b)/c;h[13]=-(d+f)/l;h[14]=-(g+k)/m;h[15]=1;this.If[0]=1;this.If[1]=1}else d=b/d,a=this.Rg,b=this.Si,h=this.tg,g=a*Math.tan(45*Math.PI/360),d*=g,f=-d,k=-g,h||(h=X()),c=d-f,l=g-k,m=b-a,h[0]=2*a/c,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*a/l,h[6]=0,h[7]=0,h[8]=(d+f)/c,h[9]=(g+k)/
l,h[10]=-(b+a)/m,h[11]=-1,h[12]=0,h[13]=0,h[14]=-(b*a*2)/m,h[15]=0,a=[0,0],b=[0,0],this.Vk(0,0,a),this.Vk(1,1,b),this.If[0]=1/(b[0]-a[0]),this.If[1]=-1/(b[1]-a[1]);a=0;for(b=this.Y.length;a<b;a++)f=this.Y[a],f.ud=!1,f.ik&&(e.useProgram(f.zf),e.uniformMatrix4fv(f.ik,!1,this.tg));e.useProgram(this.Y[this.ff].zf);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE0);this.Cd=this.Bd=null;this.Sf&&(e.bindFramebuffer(e.FRAMEBUFFER,this.uh),
e.bindRenderbuffer(e.RENDERBUFFER,this.Sf),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),this.dj||(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.Sf),this.dj=!0),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.zg=null)}};c.prototype.cc=function(){Yb(this.ah,this.kk,this.Gl,this.ab);Xb(this.ab,this.If)};c.prototype.translate=function(b,d){if(0!==b||0!==d){this.ad[0]=b;this.ad[1]=d;this.ad[2]=0;var e=
this.ab,a=this.ad,f=a[0],k=a[1],a=a[2];e[12]=e[0]*f+e[4]*k+e[8]*a+e[12];e[13]=e[1]*f+e[5]*k+e[9]*a+e[13];e[14]=e[2]*f+e[6]*k+e[10]*a+e[14];e[15]=e[3]*f+e[7]*k+e[11]*a+e[15]}};c.prototype.scale=function(b,d){if(1!==b||1!==d)this.ad[0]=b,this.ad[1]=d,this.ad[2]=1,Xb(this.ab,this.ad)};c.prototype.Ai=function(b){if(0!==b){var d=this.ab,e,a=Math.sin(b);b=Math.cos(b);var f=d[0],k=d[1],g=d[2],h=d[3],c=d[4],l=d[5],m=d[6],u=d[7];e?d!==e&&(e[8]=d[8],e[9]=d[9],e[10]=d[10],e[11]=d[11],e[12]=d[12],e[13]=d[13],
e[14]=d[14],e[15]=d[15]):e=d;e[0]=f*b+c*a;e[1]=k*b+l*a;e[2]=g*b+m*a;e[3]=h*b+u*a;e[4]=f*-a+c*b;e[5]=k*-a+l*b;e[6]=g*-a+m*b;e[7]=h*-a+u*b}};c.prototype.Jb=function(){if(!n(this.ai,this.ab)){var b=this.Sa();b.type=5;b.u?Wb(this.ab,b.u):b.u=X(this.ab);Wb(this.ab,this.ai);this.Ca=!1}};c.prototype.Cg=function(b){this.M&&(32760<b&&(b=32760),this.mh=this.ah[2]-this.Rg-b*this.Cp)};p.prototype.Gm=function(){var b=this.e,d=this.j;0!==this.Fa?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),b.bindFramebuffer(b.FRAMEBUFFER,
d.uh),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),d.eg=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),d.eg=!1)};p.prototype.Km=function(){this.e.bindTexture(this.e.TEXTURE_2D,this.qb)};p.prototype.Lm=function(){var b=this.e;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.qb);b.activeTexture(b.TEXTURE0)};p.prototype.Hm=function(){var b=this.Mk,d=this.j;d.Qf=b;d=d.Vd;d.ie&&
d.sg!==b&&(d.sg=b,this.e.uniform1f(d.ie,b))};p.prototype.Bm=function(){this.e.drawElements(this.e.TRIANGLES,this.Xb,this.e.UNSIGNED_SHORT,this.Fa)};p.prototype.Dm=function(){this.e.blendFunc(this.Fa,this.Xb)};p.prototype.Mm=function(){var b,d,e,a=this.j.Y,f=this.j.sj;b=0;for(d=a.length;b<d;b++)e=a[b],b===f&&e.pg?(e.Pi(this.u),e.ud=!0):e.ud=!1;Wb(this.u,this.j.lh)};p.prototype.Cm=function(){var b=this.e,d=this.j;this.qb?(d.Cd===this.qb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,null),
d.Cd=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,d.uh),d.eg||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.qb,0)):(d.M||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};p.prototype.ym=function(){var b=this.e,d=this.Fa;0===d?(b.clearColor(this.u[0],this.u[1],this.u[2],this.u[3]),b.clear(b.COLOR_BUFFER_BIT)):1===d?(b.enable(b.SCISSOR_TEST),b.scissor(this.u[0],this.u[1],this.u[2],this.u[3]),
b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};p.prototype.Fm=function(){var b=this.e;0!==this.Fa?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};p.prototype.Am=function(){var b=this.e,d=this.j;d.M&&b.disable(b.DEPTH_TEST);var e=d.Y[1];b.useProgram(e.zf);!e.ud&&e.pg&&(e.Pi(d.lh),e.ud=!0);b.enableVertexAttribArray(e.kb);b.bindBuffer(b.ARRAY_BUFFER,d.mi);b.vertexAttribPointer(e.kb,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.Fa/4,this.Xb);e=
d.Vd;b.useProgram(e.zf);0<=e.kb&&(b.enableVertexAttribArray(e.kb),b.bindBuffer(b.ARRAY_BUFFER,d.Hf[d.nc]),b.vertexAttribPointer(e.kb,d.M?3:2,b.FLOAT,!1,0,0));0<=e.Wc&&(b.enableVertexAttribArray(e.Wc),b.bindBuffer(b.ARRAY_BUFFER,d.Cf[d.nc]),b.vertexAttribPointer(e.Wc,2,b.FLOAT,!1,0,0));d.M&&b.enable(b.DEPTH_TEST)};p.prototype.Im=function(){var b=this.e,d=this.j,e=d.Y[this.Fa];d.sj=this.Fa;d.Vd=e;b.useProgram(e.zf);!e.ud&&e.pg&&(e.Pi(d.lh),e.ud=!0);e.ie&&e.sg!==d.Qf&&(e.sg=d.Qf,b.uniform1f(e.ie,d.Qf));
0<=e.kb&&(b.enableVertexAttribArray(e.kb),b.bindBuffer(b.ARRAY_BUFFER,d.Hf[d.nc]),b.vertexAttribPointer(e.kb,d.M?3:2,b.FLOAT,!1,0,0));0<=e.Wc&&(b.enableVertexAttribArray(e.Wc),b.bindBuffer(b.ARRAY_BUFFER,d.Cf[d.nc]),b.vertexAttribPointer(e.Wc,2,b.FLOAT,!1,0,0))};p.prototype.Em=function(){var b=this.u;this.e.uniform4f(this.j.Vd.ci,b[0],b[1],b[2],b[3])};p.prototype.Jm=function(){var b,d,e=this.j.Vd,a=this.e;b=this.u;e.jf&&this.j.Cd!==this.qb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
this.qb),this.j.Cd=this.qb,a.activeTexture(a.TEXTURE0));var f=b[0];e.ei&&f!==e.tk&&(e.tk=f,a.uniform1f(e.ei,f));f=b[1];e.di&&f!==e.sk&&(e.sk=f,a.uniform1f(e.di,f));f=b[2];d=b[3];!e.Gd||f===e.nk&&d===e.ok||(e.nk=f,e.ok=d,a.uniform2f(e.Gd,f,d));f=b[4];d=b[5];!e.Fd||f===e.lk&&d===e.mk||(e.lk=f,e.mk=d,a.uniform2f(e.Fd,f,d));f=b[6];e.hf&&f!==e.qk&&(e.qk=f,a.uniform1f(e.hf,f));f=b[7];e.gf&&f!==e.pk&&(e.pk=f,a.uniform1f(e.gf,f));f=b[8];d=b[9];!e.mf||f===e.xk&&d===e.yk||(e.xk=f,e.yk=d,a.uniform2f(e.mf,f,
d));f=b[10];d=b[11];!e.kf||f===e.uk&&d===e.vk||(e.uk=f,e.vk=d,a.uniform2f(e.kf,f,d));f=b[12];e.lf&&f!==e.wk&&(e.wk=f,a.uniform1f(e.lf,f));if(e.A.length)for(b=0,d=e.A.length;b<d;b++)f=this.ml[b],f!==e.$h[b]&&(e.$h[b]=f,a.uniform1f(e.A[b][1],f))};c.prototype.Sa=function(){this.mc===this.Ic.length&&this.Ic.push(new p(0,this));return this.Ic[this.mc++]};c.prototype.pd=function(){if(0!==this.mc&&!this.e.isContextLost()){var b=this.e;0<this.ni&&(b.bindBuffer(b.ARRAY_BUFFER,this.mi),b.bufferSubData(b.ARRAY_BUFFER,
0,this.Rk.subarray(0,this.ni)),d&&0<=d.kb&&"<point>"===d.name&&b.vertexAttribPointer(d.kb,4,b.FLOAT,!1,0,0));if(0<this.Cc){var d=this.Vd;b.bindBuffer(b.ARRAY_BUFFER,this.Hf[this.nc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Pg.subarray(0,this.Cc));d&&0<=d.kb&&"<point>"!==d.name&&b.vertexAttribPointer(d.kb,this.M?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.Cf[this.nc]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Jg.subarray(0,this.ve));d&&0<=d.Wc&&"<point>"!==d.name&&b.vertexAttribPointer(d.Wc,2,b.FLOAT,
!1,0,0)}for(var e,b=0,d=this.mc;b<d;b++)switch(e=this.Ic[b],e.type){case 1:e.Bm();break;case 2:e.Km();break;case 3:e.Hm();break;case 4:e.Dm();break;case 5:e.Mm();break;case 6:e.Cm();break;case 7:e.ym();break;case 8:e.Am();break;case 9:e.Im();break;case 10:e.Jm();break;case 11:e.Lm();break;case 12:e.Em();break;case 13:e.Fm();break;case 14:e.Gm()}this.ni=this.ve=this.Cc=this.mc=0;this.eg=this.Ca=!1;this.nc++;4<=this.nc&&(this.nc=0)}};c.prototype.wf=function(b){if(b!==this.ck&&!this.Xe){var d=this.Sa();
d.type=3;this.ck=d.Mk=b;this.Ca=!1}};c.prototype.ob=function(b){if(b!==this.Bd){var d=this.Sa();d.type=2;this.Bd=d.qb=b;this.Ca=!1}};c.prototype.Zc=function(b,d){if((b!==this.dk||d!==this.bk)&&!this.Xe){var e=this.Sa();e.type=4;e.Fa=b;e.Xb=d;this.dk=b;this.bk=d;this.Ca=!1}};c.prototype.fl=function(){this.Zc(this.e.ONE,this.e.ONE_MINUS_SRC_ALPHA)};c.prototype.vf=function(b,d,e,a,f,k,g,h){15992<=this.Cc&&this.pd();var c=this.Cc,l=this.ve,m=this.Pg,u=this.Jg,q=this.mh;if(this.Ca)this.Ic[this.mc-1].Xb+=
6;else{var n=this.Sa();n.type=1;n.Fa=this.M?c:c/2*3;n.Xb=6;this.Ca=!0}this.M?(m[c++]=b,m[c++]=d,m[c++]=q,m[c++]=e,m[c++]=a,m[c++]=q,m[c++]=f,m[c++]=k,m[c++]=q,m[c++]=g,m[c++]=h,m[c++]=q):(m[c++]=b,m[c++]=d,m[c++]=e,m[c++]=a,m[c++]=f,m[c++]=k,m[c++]=g,m[c++]=h);u[l++]=0;u[l++]=0;u[l++]=1;u[l++]=0;u[l++]=1;u[l++]=1;u[l++]=0;u[l++]=1;this.Cc=c;this.ve=l};c.prototype.Kd=function(b,d,e,a,f,k,g,h,c){15992<=this.Cc&&this.pd();var l=this.Cc,m=this.ve,u=this.Pg,q=this.Jg,n=this.mh;if(this.Ca)this.Ic[this.mc-
1].Xb+=6;else{var p=this.Sa();p.type=1;p.Fa=this.M?l:l/2*3;p.Xb=6;this.Ca=!0}var p=c.left,L=c.top,v=c.right;c=c.bottom;this.M?(u[l++]=b,u[l++]=d,u[l++]=n,u[l++]=e,u[l++]=a,u[l++]=n,u[l++]=f,u[l++]=k,u[l++]=n,u[l++]=g,u[l++]=h,u[l++]=n):(u[l++]=b,u[l++]=d,u[l++]=e,u[l++]=a,u[l++]=f,u[l++]=k,u[l++]=g,u[l++]=h);q[m++]=p;q[m++]=L;q[m++]=v;q[m++]=L;q[m++]=v;q[m++]=c;q[m++]=p;q[m++]=c;this.Cc=l;this.ve=m};c.prototype.Ka=function(b){if(this.ff!==b){if(!this.Y[b]){if(0===this.ff)return;b=0}var d=this.Sa();
d.type=9;this.ff=d.Fa=b;this.Ca=!1}};c.prototype.tf=function(b){b=this.Y[b];return!(!b.Gd&&!b.Fd)};c.prototype.pi=function(b){b=this.Y[b];return!!(b.Gd||b.Fd||b.rj)};c.prototype.oi=function(b){return this.Y[b].Eb};c.prototype.Wo=function(b){b=this.Y[b];return 0!==b.sh||0!==b.th};c.prototype.Sn=function(b){return this.Y[b].sh};c.prototype.Tn=function(b){return this.Y[b].th};c.prototype.Un=function(b,d){return this.Y[b].A[d][2]};c.prototype.xg=function(b){return this.Y[b].$i};c.prototype.se=function(b,
d,e,a,f,k,g,h,c,l,m,u,q,n,p){var L=this.Y[this.ff],v,z;if(L.mo||p.length){v=this.Sa();v.type=10;v.u?Wb(this.ab,v.u):v.u=X();z=v.u;z[0]=d;z[1]=e;z[2]=a;z[3]=f;z[4]=k;z[5]=g;z[6]=h;z[7]=c;z[8]=l;z[9]=m;z[10]=u;z[11]=q;z[12]=n;L.jf?v.qb=b:v.qb=null;if(p.length)for(e=v.ml,e.length=p.length,b=0,d=p.length;b<d;b++)e[b]=p[b];this.Ca=!1}};c.prototype.clear=function(b,d,e,a){var f=this.Sa();f.type=7;f.Fa=0;f.u||(f.u=X());f.u[0]=b;f.u[1]=d;f.u[2]=e;f.u[3]=a;this.Ca=!1};c.prototype.clearRect=function(b,d,e,
a){if(!(0>e||0>a)){var f=this.Sa();f.type=7;f.Fa=1;f.u||(f.u=X());f.u[0]=b;f.u[1]=d;f.u[2]=e;f.u[3]=a;this.Ca=!1}};c.prototype.il=function(b){if(this.M&&(b=!!b,this.Xe!==b)){var d=this.Sa();d.type=14;d.Fa=b?1:0;this.Ca=!1;this.Xe=b;this.zg=null;this.Xe?this.Ka(2):this.Ka(0)}};c.prototype.hl=function(b){if(this.M){var d=this.Sa();d.type=13;d.Fa=b?1:0;this.Ca=!1}};c.prototype.Ej=function(){Wb(this.ai,v);this.cc();this.Jb();var b=this.width/2,d=this.height/2;this.vf(-b,d,b,d,b,-d,-b,-d);Wb(v,this.ab);
this.Jb()};c.prototype.gl=function(b,d,e){this.Ka(3);var a=this.Sa();a.type=12;a.u||(a.u=X());a.u[0]=b;a.u[1]=d;a.u[2]=e;a.u[3]=1;this.Ca=!1};c.prototype.jp=function(){this.Ka(0)};c.prototype.Zo=function(){this.Ka(2)};c.prototype.Vo=function(){this.pd();this.e.flush()};var q=[],h={};c.prototype.om=function(){R(q);h={}};c.prototype.hk=function(b,d,e){var a;a=!1;d=!!d;var f=b.src+","+a+","+d+(a?",undefined":""),k=null;if("undefined"!==typeof b.src&&h.hasOwnProperty(f))return k=h[f],k.Mf++,k;this.pd();
var g=this.e,c=ia(b.width)&&ia(b.height),k=g.createTexture();g.bindTexture(g.TEXTURE_2D,k);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var l=g.RGBA,n=g.RGBA,m=g.UNSIGNED_BYTE;if(e&&!this.zd)switch(e){case 1:n=l=g.RGB;break;case 2:m=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:m=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:n=l=g.RGB,m=g.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!c&&a){e=document.createElement("canvas");e.width=ja(b.width);e.height=ja(b.height);var u=e.getContext("2d");"undefined"!==typeof u.imageSmoothingEnabled?
u.imageSmoothingEnabled=d:(u.webkitImageSmoothingEnabled=d,u.mozImageSmoothingEnabled=d,u.msImageSmoothingEnabled=d);u.drawImage(b,0,0,b.width,b.height,0,0,e.width,e.height);g.texImage2D(g.TEXTURE_2D,0,l,n,m,e)}else g.texImage2D(g.TEXTURE_2D,0,l,n,m,b);a?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));d?(g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MAG_FILTER,g.LINEAR),(c||2<=this.version)&&this.wj?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.Bd=null;k.jd=b.width;k.hd=b.height;k.Mf=1;k.lj=f;q.push(k);return h[f]=k};c.prototype.eb=function(b,d,e){var a;
this.pd();var f=this.e;this.zd&&(a=!1);var k=f.createTexture();f.bindTexture(f.TEXTURE_2D,k);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,b,d,0,f.RGBA,a?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,e?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,e?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.Bd=
null;k.jd=b;k.hd=d;q.push(k);return k};c.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.Mf&&1<b.Mf?b.Mf--:(this.pd(),b===this.Bd&&(this.e.bindTexture(this.e.TEXTURE_2D,null),this.Bd=null),b===this.Cd&&(this.e.activeTexture(this.e.TEXTURE1),this.e.bindTexture(this.e.TEXTURE_2D,null),this.e.activeTexture(this.e.TEXTURE0),this.Cd=null),Ba(q,b),"undefined"!==typeof b.lj&&delete h[b.lj],this.e.deleteTexture(b)))};c.prototype.nb=function(b){if(b!==this.zg){var d=this.Sa();d.type=6;this.zg=
d.qb=b;this.Ca=!1}};eb=c})();
(function(){function c(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Rc=(this.Rh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.yd=!!a.dc;this.to="undefined"!==typeof window.AppMobi||
this.yd;this.Bb=!!window.c2cocoonjs;this.Cb=!!window.c2ejecta;this.Bb&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Cb&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.$a=this.yd||this.Bb||this.Cb;this.fg=
/edge\//i.test(navigator.userAgent);this.zd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.fg;this.Xj=/tizen/i.test(navigator.userAgent);this.Vj=/android/i.test(navigator.userAgent)&&!this.Xj&&!this.zd&&!this.fg;this.ak=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.zd&&!this.fg;this.Ao=/ipad/i.test(navigator.userAgent);this.Zh=this.ak||this.Ao||this.Cb;this.Qh=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.zd&&!this.fg;this.so=/amazonwebappplatform/i.test(navigator.userAgent);this.vo=/firefox/i.test(navigator.userAgent);this.Ad="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Zj=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.yo=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.cf=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Xh=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Yj=!!window.cr_windows10;this.xo=this.Zj||this.yo||this.Xh||this.Yj;this.uo=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Wj=this.Vj&&!this.Qh&&!this.Rh&&!this.vo&&!this.so&&!this.$a;this.devicePixelRatio=1;this.Ze=this.Rc||this.Rh||this.to||this.Bb||this.Vj||this.Zh||this.cf||this.Xh||this.uo||this.Xj||this.Cb;this.Ze||
(this.Ze=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Wh=!!(this.Zh&&this.Rc&&window.webkit);this.Jh=null;this.no="";this.Wh&&(this.Jh=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Ad||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Ad=!0);this.canvas=a;this.nj=document.getElementById("c2canvasdiv");
this.j=this.e=null;this.Gh="(unavailable)";this.M=!1;this.od=0;this.V=null;this.xh="";this.Xf=!1;this.Ik=this.Jk=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.yd&&(window.c2runtime=this);this.Ad&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.Wj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.n=this.width;this.m=this.height;this.Of=this.width;this.Le=this.height;this.fe=window.innerWidth;this.ee=window.innerHeight;this.J=!0;this.bf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.d=[];this.U=[];this.bi={};this.Db=[];this.rh={};this.pc=[];this.Ae=[];this.Mg=[];this.dm=[];this.em=[];this.ld={};this.Th=this.Qc=!1;
this.tc=0;this.Sh=this.Vh=!1;this.Sb=[];this.Ye=!1;this.mg=this.Fi="";this.ia=null;this.uc="";this.Bf=this.pl=!1;this.Wf=[];this.nd=this.Xd=0;this.Bk=30;this.kh=this.nf=0;this.Ef=1;this.ib=new Va;this.Qg=new Va;this.vg=this.Zf=this.Uf=this.Df=this.Ed=this.wh=this.jg=0;this.hh=null;this.uj=[];this.qh=[];this.Tf=-1;this.fi=[[]];this.Li=this.qg=0;this.ri(null);this.Pe=this.Ek=this.pf=0;this.Hg=[];this.Ii=this.si=-1;this.ig=!0;this.og=0;this.$e=!1;this.np=0;this.Fe=null;this.Gk=new ba;this.ii=new ba;
this.Hk=new ba;this.$k=[];new Xa([]);new Xa([]);this.Td=[];this.dg={};this.Lc={};this.Hc={};this.ze={};this.ij={};this.gk=this.lg=this.ca=this.ha=this.fk=this.kg=this.H=null;this.xe=this.Yh=!1;this.yh=[null,null];this.td=0;this.xc={};this.Af=this.Uc=null;this.ql="";this.ug=[];this.Yo()}}function l(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function n(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function v(a,b,
f,g){try{var d=indexedDB.open("_C2SaveStates");d.onupgradeneeded=p;d.onerror=g;d.onsuccess=function(d){d=d.target.result;d.onerror=g;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=f}}catch(k){g(k)}}function q(a,b,f){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=p;g.onerror=f;g.onsuccess=function(g){g=g.target.result;g.onerror=f;var d=g.transaction(["saves"]).objectStore("saves").get(a);d.onsuccess=function(){d.result?b(d.result.data):b(null)}}}catch(d){f(d)}}
function h(){y("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var b,f={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ba||a[b]&&"undefined"!==typeof a[b].Pq||"spriteCreatedDestroyCallback"!==b&&(f[b]=a[b]);return f}var d=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||
window.oRequestAnimationFrame;c.prototype.Yo=function(){var a=this;if(this.Wh)this.Jh?this.Jh.startServer({port:0,localhost_only:!0},function(b){a.no=b;a.Bj(function(b){a.he(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)}):this.Bj(function(b){a.he(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.cf?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var f="data.js";if(this.Zj||this.cf||this.Xh||
this.Yj)f="data.json";b.open("GET",f,!0);var g=!1;if(!this.$a&&"response"in b&&"responseType"in b)try{b.responseType="json",g="json"===b.responseType}catch(d){g=!1}if(!g&&"responseType"in b)try{b.responseType="text"}catch(k){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(m){}this.cf?b.onreadystatechange=function(){4===b.readyState&&a.he(JSON.parse(b.responseText))}:(b.onload=function(){if(g)a.he(b.response);else if(a.Cb){var f=b.responseText,f=f.substr(f.indexOf("{"));
a.he(JSON.parse(f))}else a.he(JSON.parse(b.responseText))},b.onerror=function(a){da("Error requesting "+f+":");da(a)});b.send()}};c.prototype.qo=function(){var a=this,b,f,g,d,k,m,e,h,c;this.$d=(!this.$a||this.Cb||this.Rc)&&this.yp&&!this.Wj;0===this.Oa&&this.Zh&&(this.$d=!1);this.devicePixelRatio=this.$d?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.xa();0<this.Oa&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Um&&
(this.Bb||this.Cb||!this.$a)&&(b={alpha:!0,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.e=this.canvas.getContext("webgl2",b)||this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(u){}if(this.e){if(b=this.e.getExtension("WEBGL_debug_renderer_info"))this.Gh=this.e.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.e.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.M&&(this.Gh+=" [front-to-back enabled]");this.$a||(this.va=document.createElement("canvas"),
jQuery(this.va).appendTo(this.canvas.parentNode),this.va.oncontextmenu=function(){return!1},this.va.onselectstart=function(){return!1},this.va.width=Math.round(this.Of*this.devicePixelRatio),this.va.height=Math.round(this.Le*this.devicePixelRatio),jQuery(this.va).css({width:this.Of+"px",height:this.Le+"px"}),this.Tk(),this.li=this.va.getContext("2d"));this.j=new eb(this.e,this.Ze,this.M);this.j.Ld(this.canvas.width,this.canvas.height);this.j.wj=0!==this.Nm;this.V=null;this.canvas.addEventListener("webglcontextlost",
function(b){b.preventDefault();a.Jo();y("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.j.Rj();a.j.Ld(a.j.width,a.j.height,!0);a.ha=null;a.ca=null;a.yh[0]=null;a.yh[1]=null;a.Ko();a.J=!0;y("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(f=this.d.length;b<f;b++)for(k=this.d[b],g=0,d=k.p.length;g<d;g++)e=k.p[g],e.fa=this.j.Fh(e.id),e.Eb=this.j.oi(e.fa),this.xe=this.xe||this.j.tf(e.fa);
b=0;for(f=this.Db.length;b<f;b++){h=this.Db[b];g=0;for(d=h.p.length;g<d;g++)e=h.p[g],e.fa=this.j.Fh(e.id),e.Eb=this.j.oi(e.fa);h.Ib();g=0;for(d=h.q.length;g<d;g++){c=h.q[g];k=0;for(m=c.p.length;k<m;k++)e=c.p[k],e.fa=this.j.Fh(e.id),e.Eb=this.j.oi(e.fa),this.xe=this.xe||this.j.tf(e.fa);c.Ib()}}}else{if(0<this.Oa&&this.yd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.V=AppMobi.canvas.getContext("2d");try{this.V.samplingMode=this.da?"smooth":
"sharp",this.V.globalScale=1,this.V.HTML5CompatibilityMode=!0,this.V.imageSmoothingEnabled=this.da}catch(l){}0!==this.width&&0!==this.height&&(this.V.width=this.width,this.V.height=this.height)}this.V||(this.Bb?(b={antialias:!!this.da,alpha:!0},this.V=this.canvas.getContext("2d",b)):(b={alpha:!0},this.V=this.canvas.getContext("2d",b)),this.Bg(this.V,this.da));this.li=this.va=null}this.yl=function(b){a.we(!1,b)};window==window.top||this.$a||this.xo||this.cf||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Bb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(y("Reloading for continuous preview"),this.mg="__c2_continuouspreview",this.Bf=!0),this.Oo&&!this.Ze&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){});this.$a||(b=function(a){if(db(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Oa&&this.$d&&
1<this.devicePixelRatio&&this.setSize(this.ka,this.ja,!0);this.Cl();this.jo();this.go();this.S={}};c.prototype.setSize=function(a,b,f){var g=0,d=0,k=0,m=0,m=0;if(this.fe!==a||this.ee!==b||f){this.fe=a;this.ee=b;var e=this.Oa,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.$e)&&!this.Rc;if(h||0!==this.Oa||f)h&&0<this.td&&(e=this.td),f=this.devicePixelRatio,4<=e?(k=this.ka/this.ja,a/b>k?(k*=b,5===e?(m=k*f/this.ka,1<m?m=Math.floor(m):
1>m&&(m=1/Math.ceil(1/m)),k=this.ka*m/f,m=this.ja*m/f,g=(a-k)/2,d=(b-m)/2,a=k,b=m):(g=(a-k)/2,a=k)):(m=a/k,5===e?(m=m*f/this.ja,1<m?m=Math.floor(m):1>m&&(m=1/Math.ceil(1/m)),k=this.ka*m/f,m=this.ja*m/f,g=(a-k)/2,d=(b-m)/2,a=k):d=(b-m)/2,b=m),h&&!this.Ad&&(d=g=0)):this.Ad&&this.$e&&0===this.Fj&&(g=Math.floor((a-this.ka)/2),d=Math.floor((b-this.ja)/2),a=this.ka,b=this.ja),2>e&&(this.Ee=f),this.Of=Math.round(a),this.Le=Math.round(b),this.width=Math.round(a*f),this.height=Math.round(b*f),this.J=!0,this.Ll?
(this.n=this.width,this.m=this.height,this.Ya=!0):this.width<this.ka&&this.height<this.ja||1===e?(this.n=this.width,this.m=this.height,this.Ya=!0):(this.n=this.ka,this.m=this.ja,this.Ya=!1,2===e?(k=this.ka/this.ja,e=this.fe/this.ee,e<k?this.n=this.m*e:e>k&&(this.m=this.n/e)):3===e&&(k=this.ka/this.ja,e=this.fe/this.ee,e>k?this.n=this.m*e:e<k&&(this.m=this.n/e))),this.nj&&!this.$a&&(jQuery(this.nj).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(g)+"px","margin-top":Math.floor(d)+
"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*f),this.canvas.height=Math.round(b*f),this.Cb?(this.canvas.style.left=Math.floor(g)+"px",this.canvas.style.top=Math.floor(d)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.$d&&!this.$a&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.va&&
(this.va.width=Math.round(a*f),this.va.height=Math.round(b*f),this.va.style.width=this.Of+"px",this.va.style.height=this.Le+"px"),this.j&&this.j.Ld(Math.round(a*f),Math.round(b*f)),this.yd&&this.V&&(this.V.width=Math.round(a),this.V.height=Math.round(b)),this.V&&this.Bg(this.V,this.da),this.Cl(),this.ak&&!this.Rc&&window.scrollTo(0,0)}};c.prototype.Cl=function(){if(this.gm&&0!==this.ki){var a="portrait";2===this.ki&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):
screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};c.prototype.Jo=function(){this.j.om();this.Yh=!0;var a,b,f;a=0;for(b=this.d.length;a<b;a++)f=this.d[a],f.Kk&&f.Kk()};c.prototype.Ko=function(){this.Yh=!1;var a,b,f;a=0;for(b=this.d.length;a<b;a++)f=this.d[a],
f.Lk&&f.Lk()};c.prototype.Tk=function(){if(!this.$a){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.$e)&&!this.Rc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.va).css(a)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;c.prototype.setSuspended=function(a){var b;if(a&&
!this.bf)for(y("[Construct 2] Suspending"),this.bf=!0,-1!==this.si&&e&&e(this.si),-1!==this.Ii&&clearTimeout(this.Ii),a=0,b=this.Hg.length;a<b;a++)this.Hg[a](!0);else if(!a&&this.bf){y("[Construct 2] Resuming");this.bf=!1;this.jg=Ra();this.Ed=Ra();a=this.nf=this.Zf=0;for(b=this.Hg.length;a<b;a++)this.Hg[a](!1);this.we(!1)}};c.prototype.Fc=function(a){return this.ug[a]};c.prototype.he=function(a){a&&a.project||da("Project model unavailable");a=a.project;this.name=a[0];this.Dj=a[1];this.Oa=a[12];this.Fj=
a[12];this.ka=a[10];this.ja=a[11];this.Nk=this.ka/2;this.Ok=this.ja/2;this.$a&&!this.Cb&&(4<=a[12]||0===a[12])&&(y("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Fj=this.Oa=3);this.Ri=a[18];this.Vc=a[19];if(0===this.Vc){var b=new Image;b.crossOrigin="anonymous";this.jl(b,"loading-logo.png");this.Uc={rg:b}}else if(4===this.Vc){b=new Image;b.src="";var f=new Image;f.src="";var g=new Image;g.src="";var d=new Image;d.src="";var k=
new Image;k.src="";var m=new Image;m.src="";var e=new Image;e.src="";var h=new Image;h.src="";var c=new Image;c.src="";var u=new Image;u.src="";var l=new Image;l.src="";var w=new Image;w.src="";this.Uc={rg:[b,f,g,d],So:[k,m,e,h],Bp:[c,u,l,w]}}this.pf=a[21];this.ug=[$b];this.gc=new Z(this);b=0;for(f=a[2].length;b<f;b++)e=a[2][b],g=this.Fc(e[0]),fb(e,g.prototype),h=new g(this),h.Fg=e[1],h.Sc=e[2],h.Tq=e[5],h.Ck=e[9],h.lb&&h.lb(),this.plugins.push(h);this.ug=[$b];b=0;for(f=a[3].length;b<f;b++){e=a[3][b];
k=this.Fc(e[1]);h=null;g=0;for(d=this.plugins.length;g<d;g++)if(this.plugins[g]instanceof k){h=this.plugins[g];break}c=new h.Tg(h);c.name=e[0];c.F=e[2];c.Oh=e[3].slice(0);c.zp=e[3].length;c.im=e[4];c.Gn=e[5];c.C=e[11];c.F?(c.Ak=[],c.qc=this.Pe++,c.T=null):(c.Ak=null,c.qc=-1,c.T=[]);c.Vf=null;c.Yd=null;c.xj=null;c.hb=!1;c.Na=null;e[6]?(c.ul=e[6][0],c.wl=e[6][1],c.qp=e[6][2]):(c.ul=null,c.wl=0,c.qp=0);e[7]?c.La=e[7]:c.La=null;c.index=b;c.c=[];c.Rf=[];c.Ac=[new gb(c)];c.Tb=0;c.Ub=null;c.um=0;c.ue=!0;
c.Ng=hb;c.Kn=ib;c.Rn=jb;c.P=kb;c.uf=lb;c.qi=mb;c.oe=nb;c.$f=ob;c.zh=pb;c.Bh=qb;c.fd=rb;c.Dh=sb;c.pj=new Ya(this.ka,this.ja);c.aj=!0;c.bj=!1;c.S={};c.toString=tb;c.U=[];g=0;for(d=e[8].length;g<d;g++){u=e[8][g];l=this.Fc(u[1]);w=null;k=0;for(m=this.U.length;k<m;k++)if(this.U[k]instanceof l){w=this.U[k];break}w||(w=new l(this),w.Dk=[],w.hi=new ba,w.lb&&w.lb(),this.U.push(w));-1===w.Dk.indexOf(c)&&w.Dk.push(c);k=new w.Tg(w);k.name=u[0];k.C=u[2];k.lb();c.U.push(k)}c.global=e[9];c.Uh=e[10];c.p=[];g=0;for(d=
e[12].length;g<d;g++)c.p.push({id:e[12][g][0],name:e[12][g][1],fa:-1,Eb:!1,Wa:!0,index:g});c.Zq=e[13];this.Ri&&!c.F&&!c.Uh&&h.Sc||c.lb();c.name&&(this.types[c.name]=c);this.d.push(c);h.Fg&&(g=new h.Qd(c),g.uid=this.pf++,g.Xk=this.Ek++,g.vd=0,g.Re=ub,g.toString=vb,g.Yc=e[14],g.lb(),c.c.push(g),this.xc[g.uid.toString()]=g)}b=0;for(f=a[4].length;b<f;b++)for(k=a[4][b],m=this.d[k[0]],g=1,d=k.length;g<d;g++)e=this.d[k[g]],e.T.push(m),m.Ak.push(e);b=0;for(f=a[28].length;b<f;b++){k=a[28][b];m=[];g=0;for(d=
k.length;g<d;g++)m.push(this.d[k[g]]);g=0;for(d=m.length;g<d;g++)m[g].hb=!0,m[g].Na=m}if(0<this.Pe)for(b=0,f=this.d.length;b<f;b++)if(e=this.d[b],!e.F&&e.T.length){e.Vf=Array(this.Pe);e.Yd=Array(this.Pe);e.xj=Array(this.Pe);c=[];g=w=l=u=0;for(d=e.T.length;g<d;g++)for(h=e.T[g],e.Vf[h.qc]=u,u+=h.zp,e.Yd[h.qc]=l,l+=h.im,e.xj[h.qc]=w,w+=h.Gn,k=0,m=h.p.length;k<m;k++)c.push(sa({},h.p[k]));e.p=c.concat(e.p);g=0;for(d=e.p.length;g<d;g++)e.p[g].index=g}b=0;for(f=a[5].length;b<f;b++)e=a[5][b],g=new wb(this,
e),this.bi[g.name]=g,this.Db.push(g);b=0;for(f=a[6].length;b<f;b++)e=a[6][b],g=new xb(this,e),this.rh[g.name]=g,this.pc.push(g);b=0;for(f=this.pc.length;b<f;b++)this.pc[b].aa();b=0;for(f=this.pc.length;b<f;b++)this.pc[b].Oi();b=0;for(f=this.Mg.length;b<f;b++)this.Mg[b].aa();R(this.Mg);this.fm=a[7];this.Jd=a[9];this.Ee=1;this.Um=a[13];this.da=a[14];this.oj=a[15];this.yp=a[17];this.ki=a[20];this.gm=0<this.ki;this.Oo=a[22];this.Ya=this.Ll=a[23];this.Nm=a[24];this.To=a[25];this.M=a[27]&&!this.zd;this.Gg=
Date.now();R(this.ug);this.qo()};var a=!1;c.prototype.Ap=function(b,f){b.cocoonLazyLoad=!0;b.onerror=function(f){a=b.kj=!0;console&&console.error&&console.error("Error loading image '"+b.src+"': ",f)};this.Cb?b.src=f:b.src||("undefined"!==typeof XAPKReader?XAPKReader.get(f,function(a){b.src=a},function(g){a=b.kj=!0;console&&console.error&&console.error("Error extracting image '"+f+"' from expansion file: ",g)}):(b.crossOrigin="anonymous",this.jl(b,f)));this.Ae.push(b)};c.prototype.Fn=function(a){var b,
f;b=0;for(f=this.Ae.length;b<f;b++)if(this.Ae[b].qm===a)return this.Ae[b];return null};var f=0,k=!1;c.prototype.jo=function(){this.Fe&&(f=this.Fe.Wq(this.fm))};c.prototype.cj=function(){var a=f,b=0,g=0,d=!0,e,m,g=0;for(e=this.Ae.length;g<e;g++){m=this.Ae[g];var c=m.pm;if(!c||0>=c)c=5E4;a+=c;m.src&&(m.complete||m.loaded)&&!m.kj?b+=c:d=!1}d&&this.To&&this.Fe&&(k||(this.Fe.Xq(),k=!0),g=this.Fe.Rq(),b+=g,g<f&&(d=!1));this.Fb=0==a?1:b/a;return d};var g=!1;c.prototype.go=function(){if(this.V||this.j){var b=
this.V||this.li;this.va&&this.Tk();var f=window.innerWidth,k=window.innerHeight;this.fe===f&&this.ee===k||this.setSize(f,k);this.Fb=0;this.ek=-1;var e=this;if(this.cj()&&(4!==this.Vc||g))this.ko();else{k=Date.now()-this.Gg;if(b){var m=this.width,c=this.height,f=this.devicePixelRatio;if(3>this.Vc&&(this.Bb||500<=k&&this.ek!=this.Fb)){b.clearRect(0,0,m,c);var k=m/2,c=c/2,m=0===this.Vc&&this.Uc.rg.complete,h=40*f,u=0,l=80*f,w;if(m){var r=this.Uc.rg,l=r.width*f;w=r.height*f;h=l/2;u=w/2;b.drawImage(r,
K(k-h),K(c-u),l,w)}1>=this.Vc?(k=K(k-h)+.5,c=K(c+(u+(m?12*f:0)))+.5,b.fillStyle=a?"red":"DodgerBlue",b.fillRect(k,c,Math.floor(l*this.Fb),6*f),b.strokeStyle="black",b.strokeRect(k,c,l,6*f),b.strokeStyle="white",b.strokeRect(k-1*f,c-1*f,l+2*f,8*f)):2===this.Vc&&(b.font=this.Cb?"12pt ArialMT":"12pt Arial",b.fillStyle=a?"#f00":"#999",b.Yq="middle",f=Math.round(100*this.Fb)+"%",m=b.measureText?b.measureText(f):null,b.fillText(f,k-(m?m.width:0)/2,c));this.ek=this.Fb}else if(4===this.Vc){this.Sm(b);d?d(function(){e.go()}):
setTimeout(function(){e.go()},16);return}}setTimeout(function(){e.go()},this.Bb?10:100)}}};var w=-1,r="undefined"===typeof cr_is_preview?200:0,N=!0,m=!1,u=0,va=0,T="undefined"===typeof cr_is_preview?3E3:0,O=null,L=null,Y=0;c.prototype.Sm=function(b){if(!g){for(var f=Math.ceil(this.width),d=Math.ceil(this.height),k=this.Uc.rg,e=this.Uc.So,c=this.Uc.Bp,h=0;4>h;++h)if(!k[h].complete||!e[h].complete||!c[h].complete)return;0===Y&&(w=Date.now());var h=Date.now(),q=!1,n=b,p,x;N||m?(b.clearRect(0,0,f,d),
O&&O.width===f&&O.height===d||(O=document.createElement("canvas"),O.width=f,O.height=d,L=O.getContext("2d")),n=L,q=!0,N&&1===Y&&(w=Date.now())):b.globalAlpha=1;n.fillStyle="#333333";n.fillRect(0,0,f,d);256<this.Le?(p=Ca(.22*d,105,.6*f),x=.25*p,n.drawImage(l(e,p),.5*f-p/2,.2*d-x/2,p,x),x=p=Math.min(.395*d,.95*f),n.drawImage(l(k,p),.5*f-p/2,.485*d-x/2,p,x),p=Ca(.22*d,105,.6*f),x=.25*p,n.drawImage(l(c,p),.5*f-p/2,.868*d-x/2,p,x),n.fillStyle="#3C3C3C",p=f,x=Math.max(.005*d,2),n.fillRect(0,.8*d-x/2,p,
x),n.fillStyle=a?"red":"#E0FF65",p=f*this.Fb,n.fillRect(.5*f-p/2,.8*d-x/2,p,x)):(x=p=.55*d,n.drawImage(l(k,p),.5*f-p/2,.45*d-x/2,p,x),n.fillStyle="#3C3C3C",p=f,x=Math.max(.005*d,2),n.fillRect(0,.85*d-x/2,p,x),n.fillStyle=a?"red":"#E0FF65",p=f*this.Fb,n.fillRect(.5*f-p/2,.85*d-x/2,p,x));q&&(N?b.globalAlpha=0===Y?0:Math.min((h-w)/300,1):m&&(b.globalAlpha=Math.max(1-(h-va)/300,0)),b.drawImage(O,0,0,f,d));N&&300<=h-w&&2<=Y&&(N=!1,u=h);!N&&h-u>=T&&!m&&1<=this.Fb&&(m=!0,va=h);if(m&&h-va>=300+r||"undefined"!==
typeof cr_is_preview&&1<=this.Fb&&500>Date.now()-w)g=!0,m=N=!1,this.Uc=L=O=null;++Y}};c.prototype.ko=function(){this.va&&(this.canvas.parentNode.removeChild(this.va),this.va=this.li=null);this.Gg=Date.now();this.Ed=Ra();var a,b,f;if(this.Ri)for(a=0,b=this.d.length;a<b;a++)f=this.d[a],f.F||f.Uh||!f.Da.Sc||f.lb();else this.ig=!1;a=0;for(b=this.Db.length;a<b;a++)this.Db[a].rm();2<=this.Oa&&(a=this.ka/this.ja,b=this.width/this.height,this.Ee=2!==this.Oa&&b>a||2===this.Oa&&b<a?this.height/this.ja:this.width/
this.ka);this.Dj?this.bi[this.Dj].Hi():this.Db[0].Hi();this.Ri||(this.og=1,this.trigger(Z.prototype.I.Vi,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.d.length;a<b;a++)f=this.d[a],f.Io&&f.Io();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.we(!1);this.yd&&AppMobi.webview.execute("onGameReady();")};c.prototype.we=function(a,b,f){if(this.H){var g=
Ra();if(f||!this.bf||a){a||(d?this.si=d(this.yl):this.Ii=setTimeout(this.yl,this.Ze?1:16));b=b||g;var k=this.Oa;((f=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Rc)||this.$e)&&0<this.td&&(k=this.td);if(0<k){var k=window.innerWidth,e=window.innerHeight;this.fe===k&&this.ee===e||this.setSize(k,e)}this.$a||(f?(this.Xf||(this.xh=jQuery(this.canvas).css("margin")||"0",this.Xf=!0),this.Qh||this.Ad||jQuery(this.canvas).css({"margin-left":""+
Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Xf?(this.Qh||this.Ad||jQuery(this.canvas).css("margin",this.xh),this.xh="",this.Xf=!1,0===this.Oa&&this.setSize(Math.round(this.Jk/this.devicePixelRatio),Math.round(this.Ik/this.devicePixelRatio),!0)):(this.Jk=this.width,this.Ik=this.height));this.ig&&(f=this.cj(),this.og=this.Fb,f&&(this.ig=!1,this.Fb=1,this.trigger(Z.prototype.I.Vi,null),
window.C2_RegisterSW&&window.C2_RegisterSW()));this.Eo(b);!this.J&&!this.Bb||this.Yh||this.Bf||a||(this.J=!1,this.j?this.yb():this.md(),this.Af&&(this.canvas&&this.canvas.toDataURL&&(this.ql=this.canvas.toDataURL(this.Af[0],this.Af[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.ql),this.trigger(Z.prototype.I.Xl,null)),this.Af=null));this.Sq||(this.Df++,this.Uf++,this.Zf++);this.nf+=Ra()-g}}};c.prototype.Eo=function(a){var b,f,g,d,k,e,m,c;1E3<=a-this.Ed&&(this.Ed+=1E3,1E3<=a-this.Ed&&(this.Ed=
a),this.wh=this.Zf,this.Zf=0,this.kh=this.nf,this.nf=0);b=0;0!==this.jg&&(b=a-this.jg,0>b&&(b=0),this.nd=b/=1E3,.5<this.nd?this.nd=0:this.nd>1/this.Bk&&(this.nd=1/this.Bk));this.jg=a;this.Xd=this.nd*this.Ef;this.ib.add(this.Xd);this.Qg.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.$e)&&!this.Rc;2<=this.Oa||a&&0<this.td?(b=this.ka/this.ja,f=this.width/this.height,g=this.Oa,a&&0<this.td&&(g=this.td),this.Ee=2!==g&&f>b||2===g&&
f<b?this.height/this.ja:this.width/this.ka,this.H&&(this.H.dl(this.H.scrollX),this.H.el(this.H.scrollY))):this.Ee=this.$d?this.devicePixelRatio:1;this.xa();this.tc++;this.gc.bp();this.tc--;this.xa();this.tc++;f=this.Gk.bd();a=0;for(b=f.length;a<b;a++)f[a].Uq();a=0;for(b=this.d.length;a<b;a++)if(e=this.d[a],!e.F&&(e.U.length||e.T.length))for(f=0,g=e.c.length;f<g;f++)for(m=e.c[f],d=0,k=m.r.length;d<k;d++)m.r[d].we();a=0;for(b=this.d.length;a<b;a++)if(e=this.d[a],!e.F&&(e.U.length||e.T.length))for(f=
0,g=e.c.length;f<g;f++)for(m=e.c[f],d=0,k=m.r.length;d<k;d++)c=m.r[d],c.Ro&&c.Ro();f=this.ii.bd();a=0;for(b=f.length;a<b;a++)f[a].we();this.tc--;this.lo();for(a=0;this.hh&&10>a++;)this.vj(this.hh);a=0;for(b=this.pc.length;a<b;a++)this.pc[a].Ih=!1;this.H.qd&&this.H.qd.la();R(this.$k);this.tc++;a=0;for(b=this.d.length;a<b;a++)if(e=this.d[a],!e.F&&(e.U.length||e.T.length))for(f=0,g=e.c.length;f<g;f++)for(m=e.c[f],d=0,k=m.r.length;d<k;d++)c=m.r[d],c.xl&&c.xl();f=this.Hk.bd();a=0;for(b=f.length;a<b;a++)f[a].xl();
this.tc--};c.prototype.vj=function(a){var b=this.H;this.H.op();var f,g,d;if(this.j)for(f=0,g=this.d.length;f<g;f++)d=this.d[f],d.F||!d.Fl||d.global&&0!==d.c.length||-1!==a.We.indexOf(d)||d.Fl();b==a&&R(this.gc.Va);R(this.$k);this.al(!0);a.Hi();this.al(!1);this.J=!0;this.xa()};c.prototype.al=function(a){var b,f,g,d,k,e,m,c,h;b=0;for(f=this.U.length;b<f;b++)g=this.U[b],a?g.qf&&g.qf():g.rf&&g.rf();b=0;for(f=this.d.length;b<f;b++)if(g=this.d[b],g.global||g.Da.Fg)for(d=0,k=g.c.length;d<k;d++)if(e=g.c[d],
a?e.qf&&e.qf():e.rf&&e.rf(),e.r)for(m=0,c=e.r.length;m<c;m++)h=e.r[m],a?h.qf&&h.qf():h.rf&&h.rf()};c.prototype.rp=function(a){this.ii.add(a)};c.prototype.Ij=function(a){return a&&-1!==a.of?this.nd*a.of:this.Xd};c.prototype.md=function(){this.H.md(this.V);this.yd&&this.V.present()};c.prototype.yb=function(){this.M&&(this.od=1,this.H.Wd(this.j));this.H.yb(this.j);this.j.Vo()};c.prototype.Mj=function(a){a=a.toString();return this.xc.hasOwnProperty(a)?this.xc[a]:null};var z=[];c.prototype.Od=function(a){var b,
f;b=a.type.name;var g=null;if(this.ld.hasOwnProperty(b)){if(g=this.ld[b],g.contains(a))return}else g=z.length?z.pop():new ba,this.ld[b]=g;g.add(a);this.Qc=!0;if(a.hb)for(b=0,f=a.siblings.length;b<f;b++)this.Od(a.siblings[b]);this.Th&&g.ye.push(a);this.Sh||(this.tc++,this.trigger(Object.getPrototypeOf(a.type.Da).I.Yl,a),this.tc--)};c.prototype.xa=function(){if(this.Qc){var a,b,f,g,d,k;this.Th=!0;f=0;for(d=this.Sb.length;f<d;++f)for(a=this.Sb[f],b=a.type,b.c.push(a),g=0,k=b.T.length;g<k;++g)b.T[g].c.push(a),
b.T[g].ue=!0;R(this.Sb);this.Tl();Qa(this.ld);this.Qc=this.Th=!1}};c.prototype.Tl=function(){for(var a in this.ld)this.ld.hasOwnProperty(a)&&this.Pl(this.ld[a])};c.prototype.Pl=function(a){var b=a.bd(),f=b[0].type,g,d,k,e,m,c;Sa(f.c,a);f.ue=!0;0===f.c.length&&(f.bj=!1);g=0;for(d=f.T.length;g<d;++g)c=f.T[g],Sa(c.c,a),c.ue=!0;g=0;for(d=this.gc.Va.length;g<d;++g)if(m=this.gc.Va[g],m.Ua.hasOwnProperty(f.index)&&Sa(m.Ua[f.index].xd,a),!f.F)for(k=0,e=f.T.length;k<e;++k)c=f.T[k],m.Ua.hasOwnProperty(c.index)&&
Sa(m.Ua[c.index].xd,a);if(m=b[0].g){if(m.bb)for(k=m.c,g=0,d=k.length;g<d;++g)e=k[g],a.contains(e)&&(e.Ga(),m.wa.update(e,e.Ja,null),e.Ja.set(0,0,-1,-1));Sa(m.c,a);m.xf(0)}for(g=0;g<b.length;++g)this.Ol(b[g],f);a.clear();z.push(a);this.J=!0};c.prototype.Ol=function(a,b){var f,g,d;f=0;for(g=this.uj.length;f<g;++f)this.uj[f](a);a.Mc&&b.pj.update(a,a.Mc,null);(f=a.g)&&f.qe(a,!0);if(a.r)for(f=0,g=a.r.length;f<g;++f)d=a.r[f],d.ji&&d.ji(),d.behavior.hi.remove(a);this.Gk.remove(a);this.ii.remove(a);this.Hk.remove(a);
a.ji&&a.ji();this.xc.hasOwnProperty(a.uid.toString())&&delete this.xc[a.uid.toString()];this.vg--;100>b.Rf.length&&b.Rf.push(a)};var C=[];c.prototype.kd=function(a,b,f,g,d,k){var e,m,c,h;if(!a)return null;var u=this.d[a[1]],l=u.Da.Sc;if(this.ig&&l&&!u.Uh||l&&!this.j&&11===a[0][11])return null;var w=b;l||(b=null);var r;u.Rf.length?(r=u.Rf.pop(),r.$b=!0,u.Da.Qd.call(r,u)):(r=new u.Da.Qd(u),r.$b=!1);!f||k||this.xc.hasOwnProperty(a[2].toString())?r.uid=this.pf++:r.uid=a[2];this.xc[r.uid.toString()]=r;
r.Xk=this.Ek++;r.vd=u.c.length;e=0;for(m=this.Sb.length;e<m;++e)this.Sb[e].type===u&&r.vd++;r.Re=ub;r.toString=vb;c=a[3];if(r.$b)Qa(r.S);else{r.S={};if("undefined"!==typeof cr_is_preview)for(r.Uj=[],r.Uj.length=c.length,e=0,m=c.length;e<m;e++)r.Uj[e]=c[e][1];r.ga=[];r.ga.length=c.length}e=0;for(m=c.length;e<m;e++)r.ga[e]=c[e][0];if(l){var q=a[0];r.x=ga(g)?q[0]:g;r.y=ga(d)?q[1]:d;r.z=q[2];r.width=q[3];r.height=q[4];r.depth=q[5];r.k=q[6];r.opacity=q[7];r.Qa=q[8];r.Ra=q[9];r.za=q[10];e=q[11];!this.j&&
u.p.length&&(r.za=e);r.He=$a(r.za);this.e&&ab(r,r.za,this.e);if(r.$b){e=0;for(m=q[12].length;e<m;e++)for(c=0,h=q[12][e].length;c<h;c++)r.W[e][c]=q[12][e][c];r.ya.set(0,0,0,0);r.Mc.set(0,0,-1,-1);r.Ja.set(0,0,-1,-1);r.Lf.Eg(r.ya);R(r.Xg)}else{r.W=q[12].slice(0);e=0;for(m=r.W.length;e<m;e++)r.W[e]=q[12][e].slice(0);r.G=[];r.Gc=[];r.Gc.length=u.p.length;r.ya=new P(0,0,0,0);r.Mc=new P(0,0,-1,-1);r.Ja=new P(0,0,-1,-1);r.Lf=new ra;r.Xg=[];r.pa=yb;r.Oq=zb;r.Rb=Ab;r.Ga=Bb;r.xp=Cb;r.$q=Db;r.Wb=Eb}r.tp=!1;
r.vp=0;r.up=0;r.sp=null;14===q.length&&(r.tp=!0,r.vp=q[13][0],r.up=q[13][1],r.sp=q[13][2]);e=0;for(m=u.p.length;e<m;e++)r.Gc[e]=!0;r.yc=!0;r.Ib=Fb;r.Ib();r.Jl=!!r.G.length;r.Wg=!0;r.bh=!0;u.aj=!0;r.visible=!0;r.of=-1;r.g=b;r.Kb=b.c.length;r.od=0;"undefined"===typeof r.Qb&&(r.Qb=null);this.J=r.Ge=!0}var n;R(C);e=0;for(m=u.T.length;e<m;e++)C.push.apply(C,u.T[e].U);C.push.apply(C,u.U);if(r.$b)for(e=0,m=C.length;e<m;e++){var p=C[e];n=r.r[e];n.$b=!0;p.behavior.Qd.call(n,p);q=a[4][e];c=0;for(h=q.length;c<
h;c++)n.Yc[c]=q[c];n.lb();p.behavior.hi.add(r)}else for(r.r=[],e=0,m=C.length;e<m;e++)p=C[e],n=new p.behavior.Qd(p),n.$b=!1,n.Yc=a[4][e].slice(0),n.lb(),r.r.push(n),p.behavior.hi.add(r);q=a[5];if(r.$b)for(e=0,m=q.length;e<m;e++)r.Yc[e]=q[e];else r.Yc=q.slice(0);this.Sb.push(r);this.Qc=!0;b&&(b.De(r,!0),1!==b.me||1!==b.ne)&&(u.bj=!0);this.vg++;if(u.hb){if(r.hb=!0,r.$b?R(r.siblings):r.siblings=[],!f&&!k){e=0;for(m=u.Na.length;e<m;e++)if(u.Na[e]!==u){if(!u.Na[e].Ub)return null;r.siblings.push(this.kd(u.Na[e].Ub,
w,!1,l?r.x:g,l?r.y:d,!0))}e=0;for(m=r.siblings.length;e<m;e++)for(r.siblings[e].siblings.push(r),c=0;c<m;c++)e!==c&&r.siblings[e].siblings.push(r.siblings[c])}}else r.hb=!1,r.siblings=null;r.lb();e=0;for(m=r.r.length;e<m;e++)r.r[e].Qo&&r.r[e].Qo();return r};c.prototype.On=function(a){var b,f;b=0;for(f=this.H.q.length;b<f;b++){var g=this.H.q[b];if(cb(g.name,a))return g}return null};c.prototype.Pn=function(a){a=K(a);0>a&&(a=0);a>=this.H.q.length&&(a=this.H.q.length-1);return this.H.q[a]};c.prototype.ih=
function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].P().ea=!0};c.prototype.uf=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].uf()};c.prototype.qi=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].qi()};c.prototype.oe=function(a){var b,f;b=0;for(f=a.length;b<f;b++)a[b].oe()};new ra;new P(0,0,0,0);c.prototype.Dl=function(a,b){if(!b)return!1;var f,g,d,e,k;f=0;for(g=a.U.length;f<g;f++)if(a.U[f].behavior instanceof b)return!0;if(!a.F)for(f=0,g=a.T.length;f<g;f++)for(k=a.T[f],d=0,e=k.U.length;d<
e;d++)if(k.U[d].behavior instanceof b)return!0;return!1};c.prototype.Mi=function(a){return this.Dl(a,Tb.gq)};c.prototype.Ni=function(a){return this.Dl(a,Tb.hq)};var E=-1;c.prototype.trigger=function(a,b,f){if(!this.H)return!1;var g=this.H.qd;if(!g)return!1;var d=!1,e,k,m;E++;var c=g.oh;k=0;for(m=c.length;k<m;++k)e=this.Al(a,b,c[k],f),d=d||e;e=this.Al(a,b,g,f);E--;return d||e};c.prototype.Al=function(a,b,f,g){var d=!1,e,k,m,c;if(b)for(m=this.Ki(a,b,b.type.name,f,g),d=d||m,c=b.type.T,e=0,k=c.length;e<
k;++e)m=this.Ki(a,b,c[e].name,f,g),d=d||m;else m=this.Ki(a,b,"system",f,g),d=d||m;return d};c.prototype.Ki=function(a,b,f,g,d){var e,k=!1,m=!1,m="undefined"!==typeof d,c=(m?g.zj:g.Bl)[f];if(!c)return k;var h=null;g=0;for(e=c.length;g<e;++g)if(c[g].method==a){h=c[g].Oe;break}if(!h)return k;var u;m?u=h[d]:u=h;if(!u)return null;g=0;for(e=u.length;g<e;g++)a=u[g][0],d=u[g][1],m=this.Cn(b,f,a,d),k=k||m;return k};c.prototype.Cn=function(a,b,f,g){var d,e,k=!1;this.Li++;var m=this.Pa().xb;m&&this.uf(m.$c);
var c=1<this.Li;this.uf(f.$c);c&&this.Xo();var h=this.ri(f);h.xb=f;a&&(d=this.types[b].P(),d.ea=!1,R(d.c),d.c[0]=a,this.types[b].fd());a=!0;if(f.parent){b=h.tl;for(d=f.parent;d;)b.push(d),d=d.parent;b.reverse();d=0;for(e=b.length;d<e;d++)if(!b[d].dp()){a=!1;break}}a&&(this.Uf++,f.Yb?f.cp(g):f.la(),k=k||h.Dd);this.Sk();c&&this.Po();this.oe(f.$c);m&&this.oe(m.$c);this.Qc&&0===this.tc&&0===E&&!this.Vh&&this.xa();this.Li--;return k};c.prototype.Jn=function(){var a=this.Pa();return a.xb.Aa[a.Ma]};c.prototype.Xo=
function(){this.qg++;this.qg>=this.fi.length&&this.fi.push([])};c.prototype.Po=function(){this.qg--};c.prototype.Hj=function(){return this.fi[this.qg]};c.prototype.ri=function(a){this.Tf++;this.Tf>=this.qh.length&&this.qh.push(new Gb);var b=this.Pa();b.reset(a);return b};c.prototype.Sk=function(){this.Tf--};c.prototype.Pa=function(){return this.qh[this.Tf]};c.prototype.Jj=function(a,b){for(var f,g,d,e,k,m;b;){f=0;for(g=b.pb.length;f<g;f++)if(m=b.pb[f],m instanceof Hb&&cb(a,m.name))return m;b=b.parent}f=
0;for(g=this.pc.length;f<g;f++)for(k=this.pc[f],d=0,e=k.Oc.length;d<e;d++)if(m=k.Oc[d],m instanceof Hb&&cb(a,m.name))return m;return null};c.prototype.Kj=function(a){var b,f;b=0;for(f=this.Db.length;b<f;b++)if(this.Db[b].C===a)return this.Db[b];return null};c.prototype.bg=function(a){var b,f;b=0;for(f=this.d.length;b<f;b++)if(this.d[b].C===a)return this.d[b];return null};c.prototype.Ln=function(a){var b,f;b=0;for(f=this.Td.length;b<f;b++)if(this.Td[b].C===a)return this.Td[b];return null};c.prototype.vm=
function(a,b){this.Af=[a,b];this.J=!0};c.prototype.lo=function(){var a=this,b=this.Fi,f=this.uc,g=this.mg,d=!1;this.pl&&(d=!0,b="__c2_continuouspreview",this.pl=!1);if(b.length){this.xa();f=this.hp();if(n()&&!this.Bb)v(b,f,function(){y("Saved state to IndexedDB storage ("+f.length+" bytes)");a.uc=f;a.trigger(Z.prototype.I.Sg,null);a.uc="";d&&h()},function(g){try{localStorage.setItem("__c2save_"+b,f),y("Saved state to WebStorage ("+f.length+" bytes)"),a.uc=f,a.trigger(Z.prototype.I.Sg,null),a.uc="",
d&&h()}catch(e){y("Failed to save game state: "+g+"; "+e),a.trigger(Z.prototype.I.Wi,null)}});else try{localStorage.setItem("__c2save_"+b,f),y("Saved state to WebStorage ("+f.length+" bytes)"),a.uc=f,this.trigger(Z.prototype.I.Sg,null),a.uc="",d&&h()}catch(e){y("Error saving to WebStorage: "+e),a.trigger(Z.prototype.I.Wi,null)}this.mg=this.Fi="";this.ia=null}if(g.length){if(n()&&!this.Bb)q(g,function(b){b?(a.ia=b,y("Loaded state from IndexedDB storage ("+a.ia.length+" bytes)")):(a.ia=localStorage.getItem("__c2save_"+
g)||"",y("Loaded state from WebStorage ("+a.ia.length+" bytes)"));a.Bf=!1;a.ia||(a.ia=null,a.trigger(Z.prototype.I.Jf,null))},function(){a.ia=localStorage.getItem("__c2save_"+g)||"";y("Loaded state from WebStorage ("+a.ia.length+" bytes)");a.Bf=!1;a.ia||(a.ia=null,a.trigger(Z.prototype.I.Jf,null))});else{try{this.ia=localStorage.getItem("__c2save_"+g)||"",y("Loaded state from WebStorage ("+this.ia.length+" bytes)")}catch(m){this.ia=null}this.Bf=!1;a.ia||(a.ia=null,a.trigger(Z.prototype.I.Jf,null))}this.Fi=
this.mg=""}null!==this.ia&&(this.xa(),this.Co(this.ia)?(this.uc=this.ia,this.trigger(Z.prototype.I.am,null),this.uc=""):a.trigger(Z.prototype.I.Jf,null),this.ia=null)};c.prototype.hp=function(){var a,f,g,d,e,m,k,c={c2save:!0,version:1,rt:{time:this.ib.Z,walltime:this.Qg.Z,timescale:this.Ef,tickcount:this.Df,execcount:this.Uf,next_uid:this.pf,running_layout:this.H.C,start_time_offset:Date.now()-this.Gg},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(f=this.d.length;a<f;a++)if(e=
this.d[a],!e.F&&!this.Mi(e)){m={instances:[]};Pa(e.S)&&(m.ex=b(e.S));g=0;for(d=e.c.length;g<d;g++)m.instances.push(this.Ei(e.c[g]));c.types[e.C.toString()]=m}a=0;for(f=this.Db.length;a<f;a++)g=this.Db[a],c.layouts[g.C.toString()]=g.fc();d=c.events.groups;a=0;for(f=this.Td.length;a<f;a++)g=this.Td[a],d[g.C.toString()]=this.dg[g.Te].Se;f=c.events.cnds;for(k in this.Lc)this.Lc.hasOwnProperty(k)&&(a=this.Lc[k],Pa(a.S)&&(f[k]={ex:b(a.S)}));f=c.events.acts;for(k in this.Hc)this.Hc.hasOwnProperty(k)&&(a=
this.Hc[k],Pa(a.S)&&(f[k]={ex:b(a.S)}));f=c.events.vars;for(k in this.ze)this.ze.hasOwnProperty(k)&&(a=this.ze[k],a.gg||a.parent&&!a.df||(f[k]=a.data));c.system=this.gc.fc();return JSON.stringify(c)};c.prototype.Zk=function(){var a,b,f,g,d,e;this.xc={};a=0;for(b=this.d.length;a<b;a++)if(f=this.d[a],!f.F)for(g=0,d=f.c.length;g<d;g++)e=f.c[g],this.xc[e.uid.toString()]=e};c.prototype.Co=function(a){var b;try{b=JSON.parse(a)}catch(f){return!1}if(!b.c2save||1<b.version)return!1;this.Ye=!0;a=b.rt;this.ib.reset();
this.ib.Z=a.time;this.Qg.reset();this.Qg.Z=a.walltime||0;this.Ef=a.timescale;this.Df=a.tickcount;this.Uf=a.execcount;this.Gg=Date.now()-a.start_time_offset;var g=a.running_layout;if(g!==this.H.C)if(g=this.Kj(g))this.vj(g);else return;var d,e,k,m,c,h,u;h=b.types;for(e in h)if(h.hasOwnProperty(e)&&(m=this.bg(parseInt(e,10)))&&!m.F&&!this.Mi(m)){h[e].ex?m.S=h[e].ex:Qa(m.S);c=m.c;k=h[e].instances;g=0;for(d=na(c.length,k.length);g<d;g++)this.ng(c[g],k[g]);g=k.length;for(d=c.length;g<d;g++)this.Od(c[g]);
g=c.length;for(d=k.length;g<d;g++){c=null;if(m.Da.Sc&&(c=this.H.ag(k[g].w.l),!c))continue;c=this.kd(m.Ub,c,!1,0,0,!0);this.ng(c,k[g])}m.ue=!0}this.xa();this.Zk();d=b.layouts;for(e in d)d.hasOwnProperty(e)&&(g=this.Kj(parseInt(e,10)))&&g.Tc(d[e]);d=b.events.groups;for(e in d)d.hasOwnProperty(e)&&(g=this.Ln(parseInt(e,10)))&&this.dg[g.Te]&&this.dg[g.Te].ip(d[e]);g=b.events.cnds;for(e in this.Lc)this.Lc.hasOwnProperty(e)&&(g.hasOwnProperty(e)?this.Lc[e].S=g[e].ex:this.Lc[e].S={});g=b.events.acts;for(e in this.Hc)this.Hc.hasOwnProperty(e)&&
(g.hasOwnProperty(e)?this.Hc[e].S=g[e].ex:this.Hc[e].S={});g=b.events.vars;for(e in g)g.hasOwnProperty(e)&&this.ze.hasOwnProperty(e)&&(this.ze[e].data=g[e]);this.pf=a.next_uid;this.Ye=!1;g=0;for(d=this.Wf.length;g<d;++g)c=this.Wf[g],this.trigger(Object.getPrototypeOf(c.type.Da).I.Ui,c);R(this.Wf);this.gc.Tc(b.system);g=0;for(d=this.d.length;g<d;g++)if(m=this.d[g],!m.F&&!this.Mi(m))for(b=0,e=m.c.length;b<e;b++){c=m.c[b];if(m.hb)for(h=c.Re(),R(c.siblings),a=0,k=m.Na.length;a<k;a++)u=m.Na[a],m!==u&&
c.siblings.push(u.c[h]);c.cd&&c.cd();if(c.r)for(a=0,k=c.r.length;a<k;a++)h=c.r[a],h.cd&&h.cd()}return this.J=!0};c.prototype.Ei=function(a,f){var g,d,e,m,k;m=a.type;e=m.Da;var c={};f?c.c2=!0:c.uid=a.uid;Pa(a.S)&&(c.ex=b(a.S));if(a.ga&&a.ga.length)for(c.ivs={},g=0,d=a.ga.length;g<d;g++)c.ivs[a.type.Oh[g].toString()]=a.ga[g];if(e.Sc){e={x:a.x,y:a.y,w:a.width,h:a.height,l:a.g.C,zi:a.Wb()};0!==a.k&&(e.a=a.k);1!==a.opacity&&(e.o=a.opacity);.5!==a.Qa&&(e.hX=a.Qa);.5!==a.Ra&&(e.hY=a.Ra);0!==a.za&&(e.bm=
a.za);a.visible||(e.v=a.visible);a.Ge||(e.ce=a.Ge);-1!==a.of&&(e.mts=a.of);if(m.p.length)for(e.fx=[],g=0,d=m.p.length;g<d;g++)k=m.p[g],e.fx.push({name:k.name,active:a.Gc[k.index],params:a.W[k.index]});c.w=e}if(a.r&&a.r.length)for(c.behs={},g=0,d=a.r.length;g<d;g++)m=a.r[g],m.fc&&(c.behs[m.type.C.toString()]=m.fc());a.fc&&(c.data=a.fc());return c};c.prototype.Nn=function(a,b){var f,g;f=0;for(g=a.Oh.length;f<g;f++)if(a.Oh[f]===b)return f;return-1};c.prototype.In=function(a,b){var f,g;f=0;for(g=a.r.length;f<
g;f++)if(a.r[f].type.C===b)return f;return-1};c.prototype.ng=function(a,b,f){var g,d,e,m,k;k=a.type;m=k.Da;if(f){if(!b.c2)return}else a.uid=b.uid;b.ex?a.S=b.ex:Qa(a.S);if(d=b.ivs)for(g in d)d.hasOwnProperty(g)&&(e=this.Nn(k,parseInt(g,10)),0>e||e>=a.ga.length||(a.ga[e]=d[g]));if(m.Sc){e=b.w;a.g.C!==e.l&&(d=a.g,a.g=this.H.ag(e.l),a.g?(d.qe(a,!0),a.g.De(a,!0),a.pa(),a.g.xf(0)):(a.g=d,f||this.Od(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.Kb=e.zi;a.k=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?
e.o:1;a.Qa=e.hasOwnProperty("hX")?e.hX:.5;a.Ra=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.Ge=e.hasOwnProperty("ce")?e.ce:!0;a.of=e.hasOwnProperty("mts")?e.mts:-1;a.za=e.hasOwnProperty("bm")?e.bm:0;a.He=$a(a.za);this.e&&ab(a,a.za,this.e);a.pa();if(e.hasOwnProperty("fx"))for(f=0,d=e.fx.length;f<d;f++)m=k.Bh(e.fx[f].name),0>m||(a.Gc[m]=e.fx[f].active,a.W[m]=e.fx[f].params);a.Ib()}if(k=b.behs)for(g in k)k.hasOwnProperty(g)&&(f=this.In(a,parseInt(g,10)),0>f||a.r[f].Tc(k[g]));
b.data&&a.Tc(b.data)};c.prototype.Aj=function(a,b,f){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,f)},f)};c.prototype.Bj=function(a,b){this.Aj("data.js",function(f){var g=new FileReader;g.onload=function(b){a(b.target.result)};g.onerror=b;g.readAsText(f)},b)};var ea=[],W=0;c.prototype.gi=function(){if(ea.length&&!(8<=W)){W++;var a=ea.shift();this.zm(a.filename,a.pp,a.Xm)}};c.prototype.Dn=function(a,b,f){var g=this;ea.push({filename:a,pp:function(a){W--;
g.gi();b(a)},Xm:function(a){W--;g.gi();f(a)}});this.gi()};c.prototype.zm=function(a,b,f){this.Aj(a,function(a){var f=new FileReader;f.onload=function(a){b(a.target.result)};f.readAsArrayBuffer(a)},f)};c.prototype.En=function(a,b,f){this.Dn(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},f)};c.prototype.ro=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};c.prototype.jl=function(a,b){this.Wh&&!this.ro(b)?this.En(b,function(b){a.src=b},function(a){alert("Failed to load image: "+
a)}):a.src=b};c.prototype.Bg=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)};Ib=function(a){return new c(document.getElementById(a))};Jb=function(a,b){return new c({dc:!0,width:a,height:b})};window.cr_createRuntime=Ib;window.cr_createDCRuntime=Jb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");
a.hm=!0;document.body.appendChild(a);a=new c(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new c(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var c=document.getElementById("c2canvas");return c?c.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(c,l){var n=window.cr_getC2Runtime();n&&n.vm(c,l)};window.cr_sizeCanvas=function(c,l){if(0!==c&&0!==l){var n=window.cr_getC2Runtime();n&&n.setSize(c,l)}};window.cr_setSuspended=function(c){var l=window.cr_getC2Runtime();l&&l.setSuspended(c)};
(function(){function c(a,b){this.b=a;this.qd=null;this.scrollX=this.b.ka/2;this.scrollY=this.b.ja/2;this.scale=1;this.k=0;this.Zd=!0;this.name=b[0];this.No=b[1];this.Mo=b[2];this.width=b[1];this.height=b[2];this.El=b[3];this.nl=b[4];this.C=b[5];var d=b[6],g,e;this.q=[];this.We=[];g=0;for(e=d.length;g<e;g++){var c=new Kb(this,d[g]);c.Fk=g;this.q.push(c)}d=b[7];this.wd=[];g=0;for(e=d.length;g<e;g++){var c=d[g],h=this.b.d[c[1]];h.Ub||(h.Ub=c);this.wd.push(c);-1===this.We.indexOf(h)&&this.We.push(h)}this.p=
[];this.G=[];this.yc=!0;this.W=[];g=0;for(e=b[8].length;g<e;g++)this.p.push({id:b[8][g][0],name:b[8][g][1],fa:-1,Eb:!1,Wa:!0,index:g}),this.W.push(b[8][g][2].slice(0));this.Ib();this.ti=new P(0,0,1,1);this.vi=new P(0,0,1,1);this.Xc={}}function l(a,b){return a.Kb-b.Kb}function n(a,b){this.na=a;this.b=a.b;this.c=[];this.scale=1;this.k=0;this.oc=!1;this.Bc=new P(0,0,0,0);this.zl=new ra;this.Q=this.L=this.R=this.K=0;this.Nd=!1;this.Ec=-1;this.jh=0;this.name=b[0];this.index=b[1];this.C=b[2];this.visible=
b[3];this.ub=b[4];this.Hb=b[5];this.me=b[6];this.ne=b[7];this.opacity=b[8];this.Yf=b[9];this.bb=b[10];this.Ti=b[11];this.za=b[12];this.Tm=b[13];this.He="source-over";this.Ba=this.Ea=0;this.wa=null;this.vc=p();this.Gb=!0;this.ge=new P(0,0,-1,-1);this.ta=new P(0,0,-1,-1);this.bb&&(this.wa=new Za(this.b.ka,this.b.ja));this.ac=!1;var d=b[14],g,e;this.sl=[];this.Za=[];this.Ke=[];g=0;for(e=d.length;g<e;g++){var c=d[g],h=this.b.d[c[1]];h.Ub||(h.Ub=c,h.um=this.index);this.Za.push(c);-1===this.na.We.indexOf(h)&&
this.na.We.push(h)}wa(this.sl,this.Za);this.p=[];this.G=[];this.yc=!0;this.W=[];g=0;for(e=b[15].length;g<e;g++)this.p.push({id:b[15][g][0],name:b[15][g][1],fa:-1,Eb:!1,Wa:!0,index:g}),this.W.push(b[15][g][2].slice(0));this.Ib();this.ti=new P(0,0,1,1);this.vi=new P(0,0,1,1)}function p(){return b.length?b.pop():[]}function v(a){R(a);b.push(a)}c.prototype.gp=function(a){var b=a.type.C.toString();this.Xc.hasOwnProperty(b)||(this.Xc[b]=[]);this.Xc[b].push(this.b.Ei(a))};c.prototype.Oj=function(){var a=
this.q[0];return!a.Hb&&1===a.opacity&&!a.Yf&&a.visible};c.prototype.Ib=function(){R(this.G);this.yc=!0;var a,b,d;a=0;for(b=this.p.length;a<b;a++)d=this.p[a],d.Wa&&(this.G.push(d),d.Eb||(this.yc=!1))};c.prototype.Ah=function(a){var b,d,g;b=0;for(d=this.p.length;b<d;b++)if(g=this.p[b],g.name===a)return g;return null};var q=[],h=!0;c.prototype.Hi=function(){this.nl&&(this.qd=this.b.rh[this.nl],this.qd.Oi());this.b.H=this;this.width=this.No;this.height=this.Mo;this.scrollX=this.b.ka/2;this.scrollY=this.b.ja/
2;var a,b,d,g,e,c,n;a=0;for(d=this.b.d.length;a<d;a++)if(b=this.b.d[a],!b.F)for(e=b.c,b=0,g=e.length;b<g;b++)if(c=e[b],c.g){var m=c.g.Fk;m>=this.q.length&&(m=this.q.length-1);c.g=this.q[m];-1===c.g.c.indexOf(c)&&c.g.c.push(c);c.g.Nd=!0}if(!h)for(a=0,d=this.q.length;a<d;++a)this.q[a].c.sort(l);R(q);this.jm();a=0;for(d=this.q.length;a<d;a++)c=this.q[a],c.tm(),c.Og();e=!1;if(!this.Zd){for(n in this.Xc)if(this.Xc.hasOwnProperty(n)&&(b=this.b.bg(parseInt(n,10)))&&!b.F&&this.b.Ni(b)){g=this.Xc[n];a=0;for(d=
g.length;a<d;a++){c=null;if(b.Da.Sc&&(c=this.ag(g[a].w.l),!c))continue;c=this.b.kd(b.Ub,c,!1,0,0,!0);this.b.ng(c,g[a]);e=!0;q.push(c)}R(g)}a=0;for(d=this.q.length;a<d;a++)this.q[a].c.sort(l),this.q[a].Nd=!0}e&&(this.b.xa(),this.b.Zk());for(a=0;a<q.length;a++)if(c=q[a],c.type.hb)for(d=c.Re(),b=0,g=c.type.Na.length;b<g;b++)n=c.type.Na[b],c.type!==n&&(n.c.length>d?c.siblings.push(n.c[d]):n.Ub&&(e=this.b.kd(n.Ub,c.g,!0,c.x,c.y,!0),this.b.xa(),n.Ng(),c.siblings.push(e),q.push(e)));a=0;for(d=this.wd.length;a<
d;a++)this.b.kd(this.wd[a],null,!0);this.b.hh=null;this.b.xa();if(this.b.V&&!this.b.$a)for(a=0,d=this.b.d.length;a<d;a++)n=this.b.d[a],!n.F&&n.c.length&&n.Uk&&n.Uk(this.b.V);if(this.b.Ye)wa(this.b.Wf,q);else for(a=0,d=q.length;a<d;a++)c=q[a],this.b.trigger(Object.getPrototypeOf(c.type.Da).I.Ui,c);R(q);this.b.Ye||this.b.trigger(Z.prototype.I.$l,null);this.Zd=!1};c.prototype.rm=function(){var a,b,d,g,e;b=a=0;for(d=this.wd.length;a<d;a++)g=this.wd[a],e=this.b.d[g[1]],e.global?e.hb||this.b.kd(g,null,
!0):(this.wd[b]=g,b++);ua(this.wd,b)};c.prototype.op=function(){this.b.Ye||this.b.trigger(Z.prototype.I.Zl,null);this.b.Sh=!0;R(this.b.gc.Va);var a,b,d,g,e,c;if(!this.Zd)for(a=0,b=this.q.length;a<b;a++)for(this.q[a].Qi(),e=this.q[a].c,d=0,g=e.length;d<g;d++)c=e[d],c.type.global||this.b.Ni(c.type)&&this.gp(c);a=0;for(b=this.q.length;a<b;a++){e=this.q[a].c;d=0;for(g=e.length;d<g;d++)c=e[d],c.type.global||this.b.Od(c);this.b.xa();R(e);this.q[a].Nd=!0}a=0;for(b=this.b.d.length;a<b;a++)if(e=this.b.d[a],
!(e.global||e.Da.Sc||e.Da.Fg||e.F)){d=0;for(g=e.c.length;d<g;d++)this.b.Od(e.c[d]);this.b.xa()}h=!1;this.b.Sh=!1};new P(0,0,0,0);c.prototype.md=function(a){var b,d=a,g=!1,e=!this.b.Ya;e&&(this.b.lg||(this.b.lg=document.createElement("canvas"),b=this.b.lg,b.width=this.b.n,b.height=this.b.m,this.b.gk=b.getContext("2d"),g=!0),b=this.b.lg,d=this.b.gk,b.width!==this.b.n&&(b.width=this.b.n,g=!0),b.height!==this.b.m&&(b.height=this.b.m,g=!0),g&&this.b.Bg(d,this.b.da));d.globalAlpha=1;d.globalCompositeOperation=
"source-over";this.b.oj&&!this.Oj()&&d.clearRect(0,0,this.b.n,this.b.m);var c,h,g=0;for(c=this.q.length;g<c;g++)h=this.q[g],h.visible&&0<h.opacity&&11!==h.za&&(h.c.length||!h.Hb)?h.md(d):h.Og();e&&a.drawImage(b,0,0,this.b.width,this.b.height)};c.prototype.Wd=function(a){a.il(!0);this.b.ca||(this.b.ca=a.eb(this.b.n,this.b.m,this.b.da));if(this.b.ca.jd!==this.b.n||this.b.ca.hd!==this.b.m)a.deleteTexture(this.b.ca),this.b.ca=a.eb(this.b.n,this.b.m,this.b.da);a.nb(this.b.ca);this.b.Ya||a.Ld(this.b.n,
this.b.m);var b,d;for(b=this.q.length-1;0<=b;--b)d=this.q[b],d.visible&&1===d.opacity&&d.yc&&0===d.za&&(d.c.length||!d.Hb)?d.Wd(a):d.Og();a.il(!1)};c.prototype.yb=function(a){var b=0<this.G.length||this.b.xe||!this.b.Ya||this.b.M;if(b){this.b.ca||(this.b.ca=a.eb(this.b.n,this.b.m,this.b.da));if(this.b.ca.jd!==this.b.n||this.b.ca.hd!==this.b.m)a.deleteTexture(this.b.ca),this.b.ca=a.eb(this.b.n,this.b.m,this.b.da);a.nb(this.b.ca);this.b.Ya||a.Ld(this.b.n,this.b.m)}else this.b.ca&&(a.nb(null),a.deleteTexture(this.b.ca),
this.b.ca=null);this.b.oj&&!this.Oj()&&a.clear(0,0,0,0);var d,g,e;d=0;for(g=this.q.length;d<g;d++)e=this.q[d],e.visible&&0<e.opacity&&(e.c.length||!e.Hb)?e.yb(a):e.Og();b&&(0===this.G.length||1===this.G.length&&this.b.Ya?(1===this.G.length?(b=this.G[0].index,a.Ka(this.G[0].fa),a.se(null,1/this.b.n,1/this.b.m,0,0,1,1,this.scale,this.k,0,0,this.b.n/2,this.b.m/2,this.b.ib.Z,this.W[b]),a.xg(this.G[0].fa)&&(this.b.J=!0)):a.Ka(0),this.b.Ya||a.Ld(this.b.width,this.b.height),a.nb(null),a.hl(!1),a.wf(1),a.ob(this.b.ca),
a.fl(),a.cc(),a.Jb(),b=this.b.width/2,d=this.b.height/2,a.vf(-b,d,b,d,b,-d,-b,-d),a.ob(null),a.hl(!0)):this.wi(a,null,null,null))};c.prototype.Qe=function(){return 0<this.G.length||this.b.xe||!this.b.Ya||this.b.M?this.b.ca:null};c.prototype.Lj=function(){var a=this.q[0].gb(),b,d,g;b=1;for(d=this.q.length;b<d;b++)g=this.q[b],(0!==g.me||0!==g.ne)&&g.gb()<a&&(a=g.gb());return a};c.prototype.dl=function(a){if(!this.El){var b=1/this.Lj()*this.b.n/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==
a&&(this.scrollX=a,this.b.J=!0)};c.prototype.el=function(a){if(!this.El){var b=1/this.Lj()*this.b.m/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.J=!0)};c.prototype.jm=function(){this.dl(this.scrollX);this.el(this.scrollY)};c.prototype.wi=function(a,b,d,g){var e=d?d.G:b?b.G:this.G,c=1,h=0,m=0,u=0,l=this.b.n,q=this.b.m;d?(c=d.g.gb(),h=d.g.fb(),m=d.g.K,u=d.g.L,l=d.g.R,q=d.g.Q):b&&(c=b.gb(),h=b.fb(),m=b.K,u=b.L,l=b.R,q=b.Q);var n=this.b.yh,p,v,z,C,E=0,ea=1,
W,t,Q=this.b.n,I=this.b.m,ya=Q/2,za=I/2,D=b?b.ti:this.ti,A=b?b.vi:this.vi,F=0,M=0,B=0,x=0,H=Q,ka=Q,G=I,ma=I,fa=z=0;C=d?d.g.fb():0;if(d){p=0;for(v=e.length;p<v;p++)z+=a.Sn(e[p].fa),fa+=a.Tn(e[p].fa);x=d.ya;F=b.jb(x.left,x.top,!0);B=b.jb(x.left,x.top,!1);H=b.jb(x.right,x.bottom,!0);G=b.jb(x.right,x.bottom,!1);0!==C&&(p=b.jb(x.right,x.top,!0),v=b.jb(x.right,x.top,!1),M=b.jb(x.left,x.bottom,!0),x=b.jb(x.left,x.bottom,!1),C=Math.min(F,H,p,M),H=Math.max(F,H,p,M),F=C,C=Math.min(B,G,v,x),G=Math.max(B,G,v,
x),B=C);F-=z;B-=fa;H+=z;G+=fa;A.left=F/Q;A.top=1-B/I;A.right=H/Q;A.bottom=1-G/I;M=F=K(F);x=B=K(B);ka=H=pa(H);ma=G=pa(G);M-=z;x-=fa;ka+=z;ma+=fa;0>F&&(F=0);0>B&&(B=0);H>Q&&(H=Q);G>I&&(G=I);0>M&&(M=0);0>x&&(x=0);ka>Q&&(ka=Q);ma>I&&(ma=I);D.left=F/Q;D.top=1-B/I;D.right=H/Q;D.bottom=1-G/I}else D.left=A.left=0,D.top=A.top=0,D.right=A.right=1,D.bottom=A.bottom=1;fa=d&&(a.tf(e[0].fa)||0!==z||0!==fa||1!==d.opacity||d.type.Da.Ck)||b&&!d&&1!==b.opacity;a.fl();if(fa){n[E]||(n[E]=a.eb(Q,I,this.b.da));if(n[E].jd!==
Q||n[E].hd!==I)a.deleteTexture(n[E]),n[E]=a.eb(Q,I,this.b.da);a.Ka(0);a.nb(n[E]);t=ma-x;a.clearRect(M,I-x-t,ka-M,t);d?d.yb(a):(a.ob(this.b.ha),a.wf(b.opacity),a.cc(),a.translate(-ya,-za),a.Jb(),a.Kd(F,G,H,G,H,B,F,B,D));A.left=A.top=0;A.right=A.bottom=1;d&&(C=D.top,D.top=D.bottom,D.bottom=C);E=1;ea=0}a.wf(1);z=e.length-1;var Ma=a.pi(e[z].fa)||!b&&!d&&!this.b.Ya;p=C=0;for(v=e.length;p<v;p++){n[E]||(n[E]=a.eb(Q,I,this.b.da));if(n[E].jd!==Q||n[E].hd!==I)a.deleteTexture(n[E]),n[E]=a.eb(Q,I,this.b.da);
a.Ka(e[p].fa);C=e[p].index;a.xg(e[p].fa)&&(this.b.J=!0);0!=p||fa?(a.se(g,1/Q,1/I,A.left,A.top,A.right,A.bottom,c,h,m,u,(m+l)/2,(u+q)/2,this.b.ib.Z,d?d.W[C]:b?b.W[C]:this.W[C]),a.ob(null),p!==z||Ma?(a.nb(n[E]),t=ma-x,W=I-x-t,a.clearRect(M,W,ka-M,t)):(d?a.Zc(d.Ea,d.Ba):b&&a.Zc(b.Ea,b.Ba),a.nb(g)),a.ob(n[ea]),a.cc(),a.translate(-ya,-za),a.Jb(),a.Kd(F,G,H,G,H,B,F,B,D),p!==z||Ma||a.ob(null)):(a.nb(n[E]),t=ma-x,W=I-x-t,a.clearRect(M,W,ka-M,t),d?(d.ra&&d.ra.qa?(W=d.ra.qa,ea=1/W.width,W=1/W.height):(ea=1/
d.width,W=1/d.height),a.se(g,ea,W,A.left,A.top,A.right,A.bottom,c,h,m,u,(m+l)/2,(u+q)/2,this.b.ib.Z,d.W[C]),d.yb(a)):(a.se(g,1/Q,1/I,0,0,1,1,c,h,m,u,(m+l)/2,(u+q)/2,this.b.ib.Z,b?b.W[C]:this.W[C]),a.ob(b?this.b.ha:this.b.ca),a.cc(),a.translate(-ya,-za),a.Jb(),a.Kd(F,G,H,G,H,B,F,B,D)),A.left=A.top=0,A.right=A.bottom=1,d&&!Ma&&(C=G,G=B,B=C));E=0===E?1:0;ea=0===E?1:0}Ma&&(a.Ka(0),d?a.Zc(d.Ea,d.Ba):b?a.Zc(b.Ea,b.Ba):this.b.Ya||(a.Ld(this.b.width,this.b.height),ya=this.b.width/2,za=this.b.height/2,B=F=
0,H=this.b.width,G=this.b.height),a.nb(g),a.ob(n[ea]),a.cc(),a.translate(-ya,-za),a.Jb(),d&&1===e.length&&!fa?a.Kd(F,B,H,B,H,G,F,G,D):a.Kd(F,G,H,G,H,B,F,B,D),a.ob(null))};c.prototype.ag=function(a){var b,d;b=0;for(d=this.q.length;b<d;b++)if(this.q[b].C===a)return this.q[b];return null};c.prototype.fc=function(){var a,b,d,g={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.Zd,persist:this.Xc,fx:[],layers:{}};a=0;for(b=this.p.length;a<b;a++)d=this.p[a],g.fx.push({name:d.name,
active:d.Wa,params:this.W[d.index]});a=0;for(b=this.q.length;a<b;a++)d=this.q[a],g.layers[d.C.toString()]=d.fc();return g};c.prototype.Tc=function(a){var b,d,g,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.Xc=a.persist;"undefined"!==typeof a.fv&&(this.Zd=a.fv);var c=a.fx;b=0;for(d=c.length;b<d;b++)if(g=this.Ah(c[b].name))g.Wa=c[b].active,this.W[g.index]=c[b].params;this.Ib();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.ag(parseInt(e,10)))&&
a.Tc(b[e])};wb=c;n.prototype.Ib=function(){R(this.G);this.yc=!0;var a,b,d;a=0;for(b=this.p.length;a<b;a++)d=this.p[a],d.Wa&&(this.G.push(d),d.Eb||(this.yc=!1))};n.prototype.Ah=function(a){var b,d,g;b=0;for(d=this.p.length;b<d;b++)if(g=this.p[b],g.name===a)return g;return null};n.prototype.tm=function(){var a,b,d,g,e,c;b=a=0;for(d=this.Za.length;a<d;a++){g=this.Za[a];e=this.b.d[g[1]];c=this.b.Ni(e);e=!0;if(!c||this.na.Zd){g=this.b.kd(g,this,!0);if(!g)continue;q.push(g);g.type.global&&(e=!1,this.Ke.push(g.uid))}e&&
(this.Za[b]=this.Za[a],b++)}this.Za.length=b;this.b.xa();!this.b.j&&this.p.length&&(this.za=this.Tm);this.He=$a(this.za);this.b.e&&ab(this,this.za,this.b.e);this.Gb=!0};n.prototype.qe=function(a,b){var d=Aa(this.c,a);0>d||(b&&this.bb&&a.Ja&&a.Ja.right>=a.Ja.left&&(a.Ga(),this.wa.update(a,a.Ja,null),a.Ja.set(0,0,-1,-1)),d===this.c.length-1?this.c.pop():(ta(this.c,d),this.xf(d)),this.Gb=!0)};n.prototype.De=function(a,b){a.Kb=this.c.length;this.c.push(a);b&&this.bb&&a.Ja&&a.pa();this.Gb=!0};n.prototype.Uo=
function(a){this.c.unshift(a);this.xf(0)};n.prototype.Ho=function(a,b,d){var g=a.Wb();b=b.Wb();ta(this.c,g);g<b&&b--;d&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.xf(g<b?g:b)};n.prototype.xf=function(a){-1===this.Ec?this.Ec=a:a<this.Ec&&(this.Ec=a);this.Gb=this.Nd=!0};n.prototype.Qi=function(){if(this.Nd){-1===this.Ec&&(this.Ec=0);var a,b,d;if(this.bb)for(a=this.Ec,b=this.c.length;a<b;++a)d=this.c[a],d.Kb=a,this.wa.Fo(d.Ja);else for(a=this.Ec,b=this.c.length;a<b;++a)this.c[a].Kb=
a;this.Nd=!1;this.Ec=-1}};n.prototype.gb=function(a){return this.Qn()*(this.b.Ya||a?this.b.Ee:1)};n.prototype.Qn=function(){return(this.scale*this.na.scale-1)*this.Ti+1};n.prototype.fb=function(){return this.oc?0:Fa(this.na.k+this.k)};var b=[],d=[],e=[];n.prototype.Eh=function(){this.Qi();this.wa.Yk(this.K,this.L,this.R,this.Q,e);if(!e.length)return p();if(1===e.length){var a=p();wa(a,e[0]);R(e);return a}for(var b=!0;1<e.length;){for(var a=e,c=void 0,g=void 0,h=void 0,l=void 0,q=void 0,c=0,g=a.length;c<
g-1;c+=2){var h=a[c],l=a[c+1],q=p(),m=h,u=l,n=q,T=0,O=0,L=0,Y=m.length,z=u.length,C=void 0,E=void 0;for(n.length=Y+z;T<Y&&O<z;++L)C=m[T],E=u[O],C.Kb<E.Kb?(n[L]=C,++T):(n[L]=E,++O);for(;T<Y;++T,++L)n[L]=m[T];for(;O<z;++O,++L)n[L]=u[O];b||(v(h),v(l));d.push(q)}1===g%2&&(b?(h=p(),wa(h,a[g-1]),d.push(h)):d.push(a[g-1]));wa(a,d);R(d);b=!1}a=e[0];R(e);return a};n.prototype.md=function(a){this.ac=this.Yf||1!==this.opacity||0!==this.za;var b=this.b.canvas,d=a,g=!1;this.ac&&(this.b.kg||(this.b.kg=document.createElement("canvas"),
b=this.b.kg,b.width=this.b.n,b.height=this.b.m,this.b.fk=b.getContext("2d"),g=!0),b=this.b.kg,d=this.b.fk,b.width!==this.b.n&&(b.width=this.b.n,g=!0),b.height!==this.b.m&&(b.height=this.b.m,g=!0),g&&this.b.Bg(d,this.b.da),this.Hb&&d.clearRect(0,0,this.b.n,this.b.m));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.Hb||(d.fillStyle="rgb("+this.ub[0]+","+this.ub[1]+","+this.ub[2]+")",d.fillRect(0,0,this.b.n,this.b.m));d.save();this.oc=!0;var g=this.Kc(!0),e=this.Kc(!1);this.oc=!1;this.b.Jd&&
(g=Math.round(g),e=Math.round(e));this.Ag(g,e,d);var c=this.gb();d.scale(c,c);d.translate(-g,-e);this.bb?(this.ta.left=this.wa.Ha(this.K),this.ta.top=this.wa.Ia(this.L),this.ta.right=this.wa.Ha(this.R),this.ta.bottom=this.wa.Ia(this.Q),this.Gb||!this.ta.Me(this.ge)?(v(this.vc),g=this.Eh(),this.Gb=!1,this.ge.Ie(this.ta)):g=this.vc):g=this.c;for(var h,m=null,e=0,c=g.length;e<c;++e)h=g[e],h!==m&&(this.Om(h,d),m=h);this.bb&&(this.vc=g);d.restore();this.ac&&(a.globalCompositeOperation=this.He,a.globalAlpha=
this.opacity,a.drawImage(b,0,0))};n.prototype.Om=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ga();var d=a.ya;d.right<this.K||d.bottom<this.L||d.left>this.R||d.top>this.Q||(b.globalCompositeOperation=a.He,a.md(b))}};n.prototype.Og=function(){this.oc=!0;var a=this.Kc(!0),b=this.Kc(!1);this.oc=!1;this.b.Jd&&(a=Math.round(a),b=Math.round(b));this.Ag(a,b,null)};n.prototype.Ag=function(a,b,d){var g=this.gb();this.K=a;this.L=b;this.R=a+1/g*this.b.n;this.Q=b+1/g*this.b.m;this.K>this.R&&(a=this.K,
this.K=this.R,this.R=a);this.L>this.Q&&(a=this.L,this.L=this.Q,this.Q=a);a=this.fb();0!==a&&(d&&(d.translate(this.b.n/2,this.b.m/2),d.rotate(-a),d.translate(this.b.n/-2,this.b.m/-2)),this.Bc.set(this.K,this.L,this.R,this.Q),this.Bc.offset((this.K+this.R)/-2,(this.L+this.Q)/-2),this.zl.ll(this.Bc,a),this.zl.jj(this.Bc),this.Bc.offset((this.K+this.R)/2,(this.L+this.Q)/2),this.K=this.Bc.left,this.L=this.Bc.top,this.R=this.Bc.right,this.Q=this.Bc.bottom)};n.prototype.Wd=function(a){if(this.ac=this.Yf){this.b.ha||
(this.b.ha=a.eb(this.b.n,this.b.m,this.b.da));if(this.b.ha.jd!==this.b.n||this.b.ha.hd!==this.b.m)a.deleteTexture(this.b.ha),this.b.ha=a.eb(this.b.n,this.b.m,this.b.da);a.nb(this.b.ha)}this.oc=!0;var b=this.Kc(!0),d=this.Kc(!1);this.oc=!1;this.b.Jd&&(b=Math.round(b),d=Math.round(d));this.Ag(b,d,null);b=this.gb();a.cc();a.scale(b,b);a.Ai(-this.fb());a.translate((this.K+this.R)/-2,(this.L+this.Q)/-2);a.Jb();this.bb?(this.ta.left=this.wa.Ha(this.K),this.ta.top=this.wa.Ia(this.L),this.ta.right=this.wa.Ha(this.R),
this.ta.bottom=this.wa.Ia(this.Q),this.Gb||!this.ta.Me(this.ge)?(v(this.vc),b=this.Eh(),this.Gb=!1,this.ge.Ie(this.ta)):b=this.vc):b=this.c;for(var g,e=null,d=b.length-1;0<=d;--d)g=b[d],g!==e&&(this.Qm(b[d],a),e=g);this.bb&&(this.vc=b);this.Hb||(this.jh=this.b.od++,a.Cg(this.jh),a.gl(1,1,1),a.Ej(),a.Zo())};n.prototype.yb=function(a){var b=0,d=0;if(this.ac=this.Yf||1!==this.opacity||0<this.G.length||0!==this.za){this.b.ha||(this.b.ha=a.eb(this.b.n,this.b.m,this.b.da));if(this.b.ha.jd!==this.b.n||this.b.ha.hd!==
this.b.m)a.deleteTexture(this.b.ha),this.b.ha=a.eb(this.b.n,this.b.m,this.b.da);a.nb(this.b.ha);this.Hb&&a.clear(0,0,0,0)}this.Hb||(this.b.M?(a.Cg(this.jh),a.gl(this.ub[0]/255,this.ub[1]/255,this.ub[2]/255),a.Ej(),a.jp()):a.clear(this.ub[0]/255,this.ub[1]/255,this.ub[2]/255,1));this.oc=!0;var g=this.Kc(!0),b=this.Kc(!1);this.oc=!1;this.b.Jd&&(g=Math.round(g),b=Math.round(b));this.Ag(g,b,null);g=this.gb();a.cc();a.scale(g,g);a.Ai(-this.fb());a.translate((this.K+this.R)/-2,(this.L+this.Q)/-2);a.Jb();
this.bb?(this.ta.left=this.wa.Ha(this.K),this.ta.top=this.wa.Ia(this.L),this.ta.right=this.wa.Ha(this.R),this.ta.bottom=this.wa.Ia(this.Q),this.Gb||!this.ta.Me(this.ge)?(v(this.vc),b=this.Eh(),this.Gb=!1,this.ge.Ie(this.ta)):b=this.vc):b=this.c;var e,c,h=null,d=0;for(e=b.length;d<e;++d)c=b[d],c!==h&&(this.Pm(b[d],a),h=c);this.bb&&(this.vc=b);this.ac&&(b=this.G.length?this.G[0].fa:0,d=this.G.length?this.G[0].index:0,0===this.G.length||1===this.G.length&&!a.pi(b)&&1===this.opacity?(1===this.G.length?
(a.Ka(b),a.se(this.na.Qe(),1/this.b.n,1/this.b.m,0,0,1,1,g,this.fb(),this.K,this.L,(this.K+this.R)/2,(this.L+this.Q)/2,this.b.ib.Z,this.W[d]),a.xg(b)&&(this.b.J=!0)):a.Ka(0),a.nb(this.na.Qe()),a.wf(this.opacity),a.ob(this.b.ha),a.Zc(this.Ea,this.Ba),a.cc(),a.Jb(),g=this.b.n/2,b=this.b.m/2,a.vf(-g,b,g,b,g,-b,-g,-b),a.ob(null)):this.na.wi(a,this,null,this.na.Qe()))};n.prototype.Pm=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ga();var d=a.ya;d.right<this.K||d.bottom<this.L||d.left>this.R||
d.top>this.Q||(b.Cg(a.od),a.Jl?this.Rm(a,b):(b.Ka(0),b.Zc(a.Ea,a.Ba),a.yb(b)))}};n.prototype.Qm=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Ga();var d=a.ya;d.right<this.K||d.bottom<this.L||d.left>this.R||d.top>this.Q||(a.od=this.b.od++,0===a.za&&1===a.opacity&&a.yc&&a.Wd&&(b.Cg(a.od),a.Wd(b)))}};n.prototype.Rm=function(a,b){var d=a.G[0].fa,g=a.G[0].index,e=this.gb();if(1!==a.G.length||b.pi(d)||b.Wo(d)||(a.k||a.g.fb())&&b.tf(d)||1!==a.opacity||a.type.Da.Ck)this.na.wi(b,this,a,this.ac?
this.b.ha:this.na.Qe()),b.cc(),b.scale(e,e),b.Ai(-this.fb()),b.translate((this.K+this.R)/-2,(this.L+this.Q)/-2),b.Jb();else{b.Ka(d);b.Zc(a.Ea,a.Ba);b.xg(d)&&(this.b.J=!0);var c=0,h=0,m=0,u=0;b.tf(d)&&(u=a.ya,c=this.jb(u.left,u.top,!0),h=this.jb(u.left,u.top,!1),m=this.jb(u.right,u.bottom,!0),u=this.jb(u.right,u.bottom,!1),c=c/windowWidth,h=1-h/windowHeight,m=m/windowWidth,u=1-u/windowHeight);var l;a.ra&&a.ra.qa?(l=a.ra.qa,d=1/l.width,l=1/l.height):(d=1/a.width,l=1/a.height);b.se(this.ac?this.b.ha:
this.na.Qe(),d,l,c,h,m,u,e,this.fb(),this.K,this.L,(this.K+this.R)/2,(this.L+this.Q)/2,this.b.ib.Z,a.W[g]);a.yb(b)}};n.prototype.Kc=function(a){var b=0,d=0,g=this.b.devicePixelRatio;this.b.$d&&(b*=g,d*=g);var g=this.b.Nk,e=this.b.Ok,g=(this.na.scrollX-g)*this.me+g,e=(this.na.scrollY-e)*this.ne+e,c,h,m=1/this.gb(!1);c=g-this.b.n*m/2;h=e-this.b.m*m/2;c+=b*m;h+=d*m;d=this.fb();0!==d&&(c-=g,h-=e,b=Math.cos(d),d=Math.sin(d),m=c*b-h*d,h=h*b+c*d,c=m+g,h+=e);return a?c:h};n.prototype.jb=function(a,b,d){var g=
this.b.Nk,e=this.b.Ok,g=(this.na.scrollX-g)*this.me+g,c=(this.na.scrollY-e)*this.ne+e,e=g,h=c,m=this.fb();if(0!==m){a-=g;b-=c;var u=Math.cos(-m),m=Math.sin(-m),l=a*u-b*m;b=b*u+a*m;a=l+g;b+=c}g=1/this.gb(!1);e-=this.b.n*g/2;h-=this.b.m*g/2;e=(a-e)/g;return d?e:(b-h)/g};n.prototype.fc=function(){var a,b,d,g={s:this.scale,a:this.k,vl:this.K,vt:this.L,vr:this.R,vb:this.Q,v:this.visible,bc:this.ub,t:this.Hb,px:this.me,py:this.ne,o:this.opacity,zr:this.Ti,fx:[],cg:this.Ke,instances:[]};a=0;for(b=this.p.length;a<
b;a++)d=this.p[a],g.fx.push({name:d.name,active:d.Wa,params:this.W[d.index]});return g};n.prototype.Tc=function(a){var b,d,g;this.scale=a.s;this.k=a.a;this.K=a.vl;this.L=a.vt;this.R=a.vr;this.Q=a.vb;this.visible=a.v;this.ub=a.bc;this.Hb=a.t;this.me=a.px;this.ne=a.py;this.opacity=a.o;this.Ti=a.zr;this.Ke=a.cg||[];wa(this.Za,this.sl);var e=new ba;b=0;for(g=this.Ke.length;b<g;++b)e.add(this.Ke[b]);d=b=0;for(g=this.Za.length;b<g;++b)e.contains(this.Za[b][2])||(this.Za[d]=this.Za[b],++d);ua(this.Za,d);
d=a.fx;b=0;for(g=d.length;b<g;b++)if(a=this.Ah(d[b].name))a.Wa=d[b].active,this.W[a.index]=d[b].params;this.Ib();this.c.sort(l);this.Nd=!0};Kb=n})();
(function(){function c(a,b){var d,g=a.length;switch(g){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(d=0;d<g;d++)if(a[d]!==b[d])return!1;return!0}}function l(a,b){return a.index-b.index}function n(a){var b,d,g,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(l);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);e=w[a.length];b=0;for(d=e.length;b<d;b++)if(g=e[b],c(a,g))return g;e.push(a);return a}
function p(a,b){this.b=a;this.Bl={};this.zj={};this.Ih=!1;this.Qj=new ba;this.oh=[];this.Ug=[];this.name=b[0];var d=b[1];this.Oc=[];var g,e;g=0;for(e=d.length;g<e;g++)this.Sj(d[g],null,this.Oc)}function v(a){this.type=a;this.c=[];this.D=[];this.ea=!0}function q(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ba=[];this.$c=[];this.Pj=this.Lg=this.Ji=this.Mh=this.group=this.rl=!1;this.Aa=[];this.sb=[];this.pb=[];this.Te="";this.Se=this.Mh=this.group=!1;this.Nf=null;d[1]&&(this.Te=d[1][1].toLowerCase(),
this.group=!0,this.Mh=!!d[1][0],this.Nf=[],this.Se=this.Mh,this.b.Td.push(this),this.b.dg[this.Te]=this);this.Yb=d[2];this.C=d[4];this.group||(this.b.ij[this.C.toString()]=this);var g=d[5];a=0;for(b=g.length;a<b;a++){var e=new Lb(this,g[a]);e.index=a;this.Aa.push(e);this.Yi(e.type)}g=d[6];a=0;for(b=g.length;a<b;a++)e=new Mb(this,g[a]),e.index=a,this.sb.push(e);if(8===d.length)for(d=d[7],a=0,b=d.length;a<b;a++)this.sheet.Sj(d[a],this,this.pb);this.hg=!1;this.Aa.length&&(this.hg=null==this.Aa[0].type&&
this.Aa[0].ua==Z.prototype.I.Ql)}function h(a,b){var d,g,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.hb))for(d=0,g=a.Na.length;d<g;d++)e=a.Na[d],a!==e&&-1===b.indexOf(e)&&b.push(e)}function b(a,b){this.Xa=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.X=[];this.S={};this.index=-1;this.Be=!1;this.ua=this.b.Fc(b[1]);this.trigger=0<b[3];this.yj=2===b[3];this.Ph=b[5];this.Bo=b[6];this.C=b[7];this.b.Lc[this.C.toString()]=this;-1===b[0]?(this.type=null,this.la=this.Di,this.gd=null,this.wb=-1):(this.type=this.b.d[b[0]],
this.la=this.Bo?this.ep:this.Ci,b[2]?(this.gd=this.type.$f(b[2]),this.wb=this.type.zh(b[2])):(this.gd=null,this.wb=-1),this.Xa.parent&&this.Xa.parent.Dg());this.yj&&(this.la=this.fp);if(10===b.length){var d,g,e=b[9];d=0;for(g=e.length;d<g;d++){var f=new Nb(this,e[d]);this.A.push(f)}this.X.length=e.length}}function d(a,b){this.Xa=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.X=[];this.S={};this.index=-1;this.Be=!1;this.ua=this.b.Fc(b[1]);-1===b[0]?(this.type=null,this.la=this.Di,this.gd=null,this.wb=
-1):(this.type=this.b.d[b[0]],this.la=this.Ci,b[2]?(this.gd=this.type.$f(b[2]),this.wb=this.type.zh(b[2])):(this.gd=null,this.wb=-1));this.C=b[3];this.b.Hc[this.C.toString()]=this;if(6===b.length){var d,g,e=b[5];d=0;for(g=e.length;d<g;d++){var f=new Nb(this,e[d]);this.A.push(f)}this.X.length=e.length}}function e(){N++;r.length===N&&r.push(new Ob);return r[N]}function a(a,b){this.mb=a;this.Xa=a.Xa;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Vb=null;this.zc=0;this.get=null;this.qj=0;this.na=null;
this.key=0;this.object=null;this.index=0;this.Ff=this.Md=this.Ff=this.Md=this.Cj=this.rd=this.Gf=null;this.rb=!1;var d,g,e;switch(b[0]){case 0:case 7:this.Vb=new U(this,b[1]);this.zc=0;this.get=this.Zn;break;case 1:this.Vb=new U(this,b[1]);this.zc=0;this.get=this.$n;break;case 5:this.Vb=new U(this,b[1]);this.zc=0;this.get=this.eo;break;case 3:case 8:this.qj=b[1];this.get=this.Xn;break;case 6:this.na=this.b.bi[b[1]];this.get=this.fo;break;case 9:this.key=b[1];this.get=this.co;break;case 4:this.object=
this.b.d[b[1]];this.get=this.ho;this.Xa.Yi(this.object);this.mb instanceof Mb?this.Xa.Dg():this.Xa.parent&&this.Xa.parent.Dg();break;case 10:this.index=b[1];a.type&&a.type.F?(this.get=this.ao,this.rb=!0):this.get=this.bo;break;case 11:this.Gf=b[1];this.rd=null;this.get=this.Yn;break;case 2:case 12:this.Cj=b[1];this.get=this.Wn;break;case 13:for(this.get=this.io,this.Md=[],this.Ff=[],d=1,g=b.length;d<g;d++)e=new Nb(this.mb,b[d]),this.Md.push(e),this.Ff.push(0)}}function f(a,b,d){this.sheet=a;this.parent=
b;this.b=a.b;this.ba=[];this.name=d[1];this.Lh=d[3];this.df=!!d[4];this.gg=!!d[5];this.C=d[6];this.b.ze[this.C.toString()]=this;this.data=this.Lh;this.parent?(this.Hd=this.df||this.gg?-1:this.b.np++,this.b.em.push(this)):(this.Hd=-1,this.b.dm.push(this))}function k(a,b,d){this.sheet=a;this.parent=b;this.b=a.b;this.ba=[];this.Ve=null;this.oo=d[1];this.Wa=!0}function g(){this.tl=[];this.reset(null)}var w=[];p.prototype.toString=function(){return this.name};p.prototype.Sj=function(a,b,d){switch(a[0]){case 0:a=
new Pb(this,b,a);if(a.Yb)for(d.push(a),d=0,b=a.Aa.length;d<b;d++)a.Aa[d].trigger&&this.Tj(a,d);else a.$j()?this.Tj(a,0):d.push(a);break;case 1:a=new Hb(this,b,a);d.push(a);break;case 2:a=new Qb(this,b,a),d.push(a)}};p.prototype.aa=function(){var a,b;a=0;for(b=this.Oc.length;a<b;a++)this.Oc[a].aa(a<b-1&&this.Oc[a+1].hg)};p.prototype.Oi=function(){R(this.oh);R(this.Ug);this.Xi(this);R(this.Ug)};p.prototype.Xi=function(a){var b,d,g,e,f=a.oh,c=a.Ug,h=this.Qj.bd();b=0;for(d=h.length;b<d;++b)g=h[b],e=g.Ve,
!g.Wa||a===e||-1<c.indexOf(e)||(c.push(e),e.Xi(a),f.push(e))};p.prototype.la=function(a){this.b.Vq||(this.Ih=!0,a||(this.b.Vh=!0));var b,d;b=0;for(d=this.Oc.length;b<d;b++){var g=this.Oc[b];g.la();this.b.ih(g.ba);this.b.Qc&&this.b.xa()}a||(this.b.Vh=!1)};p.prototype.Tj=function(a,b){a.Yb||this.b.Mg.push(a);var d,g,e=a.Aa[b],f;e.type?f=e.type.name:f="system";var c=(d=e.yj)?this.zj:this.Bl;c[f]||(c[f]=[]);f=c[f];c=e.ua;if(d){if(e.A.length&&(e=e.A[0],1===e.type&&2===e.Vb.type)){e=e.Vb.value.toLowerCase();
d=0;for(g=f.length;d<g;d++)if(f[d].method==c){d=f[d].Oe;d[e]?d[e].push([a,b]):d[e]=[[a,b]];return}d={};d[e]=[[a,b]];f.push({method:c,Oe:d})}}else{d=0;for(g=f.length;d<g;d++)if(f[d].method==c){f[d].Oe.push([a,b]);return}$b&&c===$b.prototype.I.Sd?f.unshift({method:c,Oe:[[a,b]]}):f.push({method:c,Oe:[[a,b]]})}};xb=p;v.prototype.Nj=function(){return this.ea?this.type.c.length:this.c.length};v.prototype.zb=function(){return this.ea?this.type.c:this.c};v.prototype.sf=function(a){a&&(a.b.Pa().xb.Yb?(this.ea&&
(R(this.c),wa(this.D,a.type.c),this.ea=!1),a=this.D.indexOf(a),-1!==a&&(this.c.push(this.D[a]),this.D.splice(a,1))):(this.ea=!1,R(this.c),this.c[0]=a))};gb=v;window._c2hh_="55C89284FEE745E1AB400C15AA4FFF2F21B8A82E";q.prototype.aa=function(a){var b,d=this.parent;if(this.group)for(this.Lg=!0;d;){if(!d.group){this.Lg=!1;break}d=d.parent}this.Ji=!this.$j()&&(!this.parent||this.parent.group&&this.parent.Lg);this.Pj=!!a;this.$c=this.ba.slice(0);for(d=this.parent;d;){a=0;for(b=d.ba.length;a<b;a++)this.cm(d.ba[a]);
d=d.parent}this.ba=n(this.ba);this.$c=n(this.$c);a=0;for(b=this.Aa.length;a<b;a++)this.Aa[a].aa();a=0;for(b=this.sb.length;a<b;a++)this.sb[a].aa();a=0;for(b=this.pb.length;a<b;a++)this.pb[a].aa(a<b-1&&this.pb[a+1].hg)};q.prototype.ip=function(a){if(this.Se!==!!a){this.Se=!!a;var b;a=0;for(b=this.Nf.length;a<b;++a)this.Nf[a].Hl();0<b&&this.b.H.qd&&this.b.H.qd.Oi()}};q.prototype.Yi=function(a){h(a,this.ba)};q.prototype.cm=function(a){h(a,this.$c)};q.prototype.Dg=function(){this.rl=!0;this.parent&&this.parent.Dg()};
q.prototype.$j=function(){return this.Aa.length?this.Aa[0].trigger:!1};q.prototype.la=function(){var a,b,d=!1,g=this.b,e=this.b.Pa();e.xb=this;var f=this.Aa;this.hg||(e.ph=!1);if(this.Yb){0===f.length&&(d=!0);e.Ma=0;for(a=f.length;e.Ma<a;e.Ma++)b=f[e.Ma],b.trigger||(b=b.la())&&(d=!0);(e.Dd=d)&&this.Bi()}else{e.Ma=0;for(a=f.length;e.Ma<a;e.Ma++)if(b=f[e.Ma].la(),!b){e.Dd=!1;this.Ji&&g.Qc&&g.xa();return}e.Dd=!0;this.Bi()}this.Vm(e)};q.prototype.Vm=function(a){a.Dd&&this.Pj&&(a.ph=!0);this.Ji&&this.b.Qc&&
this.b.xa()};q.prototype.cp=function(a){this.b.Pa().xb=this;this.Aa[a].la()&&(this.Bi(),this.b.Pa().Dd=!0)};q.prototype.Bi=function(){var a=this.b.Pa(),b;a.cb=0;for(b=this.sb.length;a.cb<b;a.cb++)if(this.sb[a.cb].la())return;this.bl()};q.prototype.$o=function(){var a=this.b.Pa(),b;for(b=this.sb.length;a.cb<b;a.cb++)if(this.sb[a.cb].la())return;this.bl()};q.prototype.bl=function(){if(this.pb.length){var a,b,d,g,e=this.pb.length-1;this.b.ri(this);if(this.rl)for(a=0,b=this.pb.length;a<b;a++)d=this.pb[a],
(g=!this.Lg||!this.group&&a<e)&&this.b.qi(d.ba),d.la(),g?this.b.oe(d.ba):this.b.ih(d.ba);else for(a=0,b=this.pb.length;a<b;a++)this.pb[a].la();this.b.Sk()}};q.prototype.dp=function(){var a=this.b.Pa();a.xb=this;var b=!1,d;a.Ma=0;for(d=this.Aa.length;a.Ma<d;a.Ma++)if(this.Aa[a.Ma].la())b=!0;else if(!this.Yb)return!1;return this.Yb?b:!0};q.prototype.wo=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Aa[b].type===a.type)return!1;return!0};Pb=q;b.prototype.aa=function(){var a,b,d;
a=0;for(b=this.A.length;a<b;a++)d=this.A[a],d.aa(),d.rb&&(this.Be=!0)};b.prototype.fp=function(){return!0};b.prototype.Di=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.X[a]=this.A[a].get();return Oa(this.ua.apply(this.b.gc,this.X),this.Ph)};b.prototype.ep=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.X[a]=this.A[a].get();a=this.ua.apply(this.gd?this.gd:this.type,this.X);this.type.fd();return a};b.prototype.Ci=function(){var a,b,d,g,e,f,c,h,k=this.type,l=k.P(),r=this.Xa.Yb&&!this.trigger;
b=0;var q=k.hb,n=k.F,p=k.qc,w=this.wb,v=-1<w,N=this.Be,D=this.A,A=this.X,F=this.Ph,M=this.ua,B;if(N)for(b=0,e=D.length;b<e;++b)f=D[b],f.rb||(A[b]=f.get(0));else for(b=0,e=D.length;b<e;++b)A[b]=D[b].get(0);if(l.ea){R(l.c);R(l.D);B=k.c;a=0;for(g=B.length;a<g;++a){h=B[a];if(N)for(b=0,e=D.length;b<e;++b)f=D[b],f.rb&&(A[b]=f.get(a));v?(b=0,n&&(b=h.type.Yd[p]),b=M.apply(h.r[w+b],A)):b=M.apply(h,A);(c=Oa(b,F))?l.c.push(h):r&&l.D.push(h)}k.finish&&k.finish(!0);l.ea=!1;k.fd();return l.Nj()}d=0;B=(c=r&&!this.Xa.wo(this))?
l.D:l.c;var x=!1;a=0;for(g=B.length;a<g;++a){h=B[a];if(N)for(b=0,e=D.length;b<e;++b)f=D[b],f.rb&&(A[b]=f.get(a));v?(b=0,n&&(b=h.type.Yd[p]),b=M.apply(h.r[w+b],A)):b=M.apply(h,A);if(Oa(b,F))if(x=!0,c){if(l.c.push(h),q)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.P().c.push(f)}else{B[d]=h;if(q)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.P().c[d]=f;d++}else if(c){B[d]=h;if(q)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.P().D[d]=f;d++}else if(r&&(l.D.push(h),
q))for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.P().D.push(f)}ua(B,d);if(q)for(n=k.Na,a=0,g=n.length;a<g;a++)h=n[a].P(),c?ua(h.D,d):ua(h.c,d);d=x;if(c&&!x)for(a=0,g=l.c.length;a<g;a++){h=l.c[a];if(N)for(b=0,e=D.length;b<e;b++)f=D[b],f.rb&&(A[b]=f.get(a));b=v?M.apply(h.r[w],A):M.apply(h,A);if(Oa(b,F)){x=!0;break}}k.finish&&k.finish(d||r);return r?x:l.Nj()};Lb=b;d.prototype.aa=function(){var a,b,d;a=0;for(b=this.A.length;a<b;a++)d=this.A[a],d.aa(),d.rb&&(this.Be=!0)};d.prototype.Di=function(){var a=
this.b,b,d,e=this.A,g=this.X;b=0;for(d=e.length;b<d;++b)g[b]=e[b].get();return this.ua.apply(a.gc,g)};d.prototype.Ci=function(){var a=this.type,b=this.wb,d=a.qc,e=this.Be,g=this.A,f=this.X,c=this.ua,h=a.P().zb(),a=a.F,k=-1<b,l,r,q,n,p,w;if(e)for(r=0,n=g.length;r<n;++r)p=g[r],p.rb||(f[r]=p.get(0));else for(r=0,n=g.length;r<n;++r)f[r]=g[r].get(0);l=0;for(q=h.length;l<q;++l){w=h[l];if(e)for(r=0,n=g.length;r<n;++r)p=g[r],p.rb&&(f[r]=p.get(l));k?(r=0,a&&(r=w.type.Yd[d]),c.apply(w.r[b+r],f)):c.apply(w,
f)}return!1};Mb=d;var r=[],N=-1;a.prototype.aa=function(){var a,b;if(11===this.type)this.rd=this.b.Jj(this.Gf,this.Xa.parent);else if(13===this.type)for(a=0,b=this.Md.length;a<b;a++)this.Md[a].aa();this.Vb&&this.Vb.aa()};a.prototype.Go=function(a){this.rb||!a||a.Da.Fg||(this.rb=!0)};a.prototype.kl=function(){this.rb=!0};a.prototype.Zn=function(a){this.zc=a||0;a=e();this.Vb.get(a);N--;return a.data};a.prototype.$n=function(a){this.zc=a||0;a=e();this.Vb.get(a);N--;return J(a.data)?a.data:""};a.prototype.ho=
function(){return this.object};a.prototype.Xn=function(){return this.qj};a.prototype.eo=function(a){this.zc=a||0;a=e();this.Vb.get(a);N--;return a.ma()?this.b.Pn(a.data):this.b.On(a.data)};a.prototype.fo=function(){return this.na};a.prototype.co=function(){return this.key};a.prototype.bo=function(){return this.index};a.prototype.ao=function(a){a=a||0;var b=this.mb.type,d=null,d=b.P(),e=d.zb();if(e.length)d=e[a%e.length].type;else if(d.D.length)d=d.D[a%d.D.length].type;else if(b.c.length)d=b.c[a%b.c.length].type;
else return 0;return this.index+d.Vf[b.qc]};a.prototype.Yn=function(){return this.rd};a.prototype.Wn=function(){return this.Cj};a.prototype.io=function(){var a,b;a=0;for(b=this.Md.length;a<b;a++)this.Ff[a]=this.Md[a].get();return this.Ff};Nb=a;f.prototype.aa=function(){this.ba=n(this.ba)};f.prototype.kp=function(a){var b=this.b.Hj();this.parent&&!this.df&&b?(this.Hd>=b.length&&(b.length=this.Hd+1),b[this.Hd]=a):this.data=a};f.prototype.Vn=function(){var a=this.b.Hj();return!this.parent||this.df||
!a||this.gg?this.data:this.Hd>=a.length||"undefined"===typeof a[this.Hd]?this.Lh:a[this.Hd]};f.prototype.la=function(){!this.parent||this.df||this.gg||this.kp(this.Lh)};Hb=f;k.prototype.toString=function(){return"include:"+this.Ve.toString()};k.prototype.aa=function(){this.Ve=this.b.rh[this.oo];this.sheet.Qj.add(this);this.ba=n(this.ba);for(var a=this.parent;a;)a.group&&a.Nf.push(this),a=a.parent;this.Hl()};k.prototype.la=function(){this.parent&&this.b.uf(this.b.d);this.Ve.Ih||this.Ve.la(!0);this.parent&&
this.b.oe(this.b.d)};k.prototype.Hl=function(){for(var a=this.parent;a;){if(a.group&&!a.Se){this.Wa=!1;return}a=a.parent}this.Wa=!0};Qb=k;g.prototype.reset=function(a){this.xb=a;this.cb=this.Ma=0;R(this.tl);this.ph=this.Dd=!1};Gb=g})();
(function(){function c(c,b){this.mb=c;this.b=c.b;this.type=b[0];this.get=[this.pn,this.kn,this.yn,this.Bn,this.Ym,this.zn,this.tn,this.gn,this.sn,this.xn,this.Zm,this.wn,this.hn,this.un,this.qn,this.rn,this.ln,this.mn,this.en,this.An,this.vn,this.nn,this.dn,this.jn][this.type];var d=null;this.wc=this.A=this.X=this.ua=this.Kg=this.second=this.first=this.value=null;this.wb=-1;this.Ab=null;this.Kl=-1;this.rd=this.Gf=null;this.re=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new U(c,b[1]);break;case 18:this.first=new U(c,b[1]);this.second=new U(c,b[2]);this.Kg=new U(c,b[3]);break;case 19:this.ua=this.b.Fc(b[1]);this.ua!==Z.prototype.sd.random&&this.ua!==Z.prototype.sd.nm||this.mb.kl();this.X=[];this.A=[];3===b.length?(d=b[2],this.X.length=d.length+1):this.X.length=1;break;case 20:this.wc=this.b.d[b[1]];this.wb=-1;this.ua=this.b.Fc(b[2]);this.re=b[3];Sb.Function&&this.ua===Sb.Function.prototype.sd.Jp&&this.mb.kl();b[4]?this.Ab=new U(c,b[4]):this.Ab=null;this.X=[];this.A=
[];6===b.length?(d=b[5],this.X.length=d.length+1):this.X.length=1;break;case 21:this.wc=this.b.d[b[1]];this.re=b[2];b[3]?this.Ab=new U(c,b[3]):this.Ab=null;this.Kl=b[4];break;case 22:this.wc=this.b.d[b[1]];this.wc.$f(b[2]);this.wb=this.wc.zh(b[2]);this.ua=this.b.Fc(b[3]);this.re=b[4];b[5]?this.Ab=new U(c,b[5]):this.Ab=null;this.X=[];this.A=[];7===b.length?(d=b[6],this.X.length=d.length+1):this.X.length=1;break;case 23:this.Gf=b[1],this.rd=null}this.mb.Go(this.wc);4<=this.type&&17>=this.type&&(this.first=
new U(c,b[1]),this.second=new U(c,b[2]));if(d){var e,a;e=0;for(a=d.length;e<a;e++)this.A.push(new U(c,d[e]))}}function l(){++q;v.length===q&&v.push(new Ob);return v[q]}function n(c,b,d){var e,a;e=0;for(a=c.length;e<a;++e)c[e].get(d),b[e+1]=d.data}function p(c,b){this.type=c||V.Rd;this.data=b||0;this.Id=null;this.type==V.Rd&&(this.data=Math.floor(this.data))}c.prototype.aa=function(){23===this.type&&(this.rd=this.mb.b.Jj(this.Gf,this.mb.Xa.parent));this.first&&this.first.aa();this.second&&this.second.aa();
this.Kg&&this.Kg.aa();this.Ab&&this.Ab.aa();if(this.A){var c,b;c=0;for(b=this.A.length;c<b;c++)this.A[c].aa()}};var v=[],q=-1;c.prototype.An=function(c){var b=this.A,d=this.X;d[0]=c;c=l();n(b,d,c);--q;this.ua.apply(this.b.gc,d)};c.prototype.vn=function(c){var b=this.wc,d=this.X,e=this.A,a=this.Ab,f=this.ua,k=this.mb.zc,g=b.P(),p=g.zb();if(!p.length)if(g.D.length)p=g.D;else{this.re?c.Ta(""):c.N(0);return}d[0]=c;c.Id=b;c=l();n(e,d,c);a&&(a.get(c),c.ma()&&(k=c.data,p=b.c));--q;b=p.length;if(k>=b||k<=
-b)k%=b;0>k&&(k+=b);f.apply(p[k],d)};c.prototype.dn=function(c){var b=this.wc,d=this.X,e=this.A,a=this.Ab,f=this.wb,k=this.ua,g=this.mb.zc,p=b.P(),r=p.zb();if(!r.length)if(p.D.length)r=p.D;else{this.re?c.Ta(""):c.N(0);return}d[0]=c;c.Id=b;c=l();n(e,d,c);a&&(a.get(c),c.ma()&&(g=c.data,r=b.c));--q;e=r.length;if(g>=e||g<=-e)g%=e;0>g&&(g+=e);g=r[g];r=0;b.F&&(r=g.type.Yd[b.qc]);k.apply(g.r[f+r],d)};c.prototype.nn=function(c){var b=this.Ab,d=this.wc,e=this.Kl,a=this.mb.zc,f=d.P(),k=f.zb();if(!k.length)if(f.D.length)k=
f.D;else{this.re?c.Ta(""):c.N(0);return}if(b){f=l();b.get(f);if(f.ma()){a=f.data;k=d.c;0!==k.length&&(a%=k.length,0>a&&(a+=k.length));a=d.Dh(a);d=a.ga[e];J(d)?c.Ta(d):c.B(d);--q;return}--q}b=k.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=k[a];k=0;d.F&&(k=a.type.Vf[d.qc]);d=a.ga[e+k];J(d)?c.Ta(d):c.B(d)};c.prototype.pn=function(c){c.type=V.Rd;c.data=this.value};c.prototype.kn=function(c){c.type=V.Pd;c.data=this.value};c.prototype.yn=function(c){c.type=V.String;c.data=this.value};c.prototype.Bn=function(c){this.first.get(c);
c.ma()&&(c.data=-c.data)};c.prototype.Ym=function(c){this.first.get(c);var b=l();this.second.get(b);c.ma()&&b.ma()&&(c.data+=b.data,b.ae()&&c.je());--q};c.prototype.zn=function(c){this.first.get(c);var b=l();this.second.get(b);c.ma()&&b.ma()&&(c.data-=b.data,b.ae()&&c.je());--q};c.prototype.tn=function(c){this.first.get(c);var b=l();this.second.get(b);c.ma()&&b.ma()&&(c.data*=b.data,b.ae()&&c.je());--q};c.prototype.gn=function(c){this.first.get(c);var b=l();this.second.get(b);c.ma()&&b.ma()&&(c.data/=
b.data,c.je());--q};c.prototype.sn=function(c){this.first.get(c);var b=l();this.second.get(b);c.ma()&&b.ma()&&(c.data%=b.data,b.ae()&&c.je());--q};c.prototype.xn=function(c){this.first.get(c);var b=l();this.second.get(b);c.ma()&&b.ma()&&(c.data=Math.pow(c.data,b.data),b.ae()&&c.je());--q};c.prototype.Zm=function(c){this.first.get(c);var b=l();this.second.get(b);b.de()||c.de()?this.an(c,b):this.$m(c,b);--q};c.prototype.an=function(c,b){c.de()&&b.de()?this.cn(c,b):this.bn(c,b)};c.prototype.cn=function(c,
b){c.data+=b.data};c.prototype.bn=function(c,b){c.de()?c.data+=(Math.round(1E10*b.data)/1E10).toString():c.Ta(c.data.toString()+b.data)};c.prototype.$m=function(c,b){c.N(c.data&&b.data?1:0)};c.prototype.wn=function(c){this.first.get(c);var b=l();this.second.get(b);c.ma()&&b.ma()&&(c.data||b.data?c.N(1):c.N(0));--q};c.prototype.en=function(c){this.first.get(c);c.data?this.second.get(c):this.Kg.get(c)};c.prototype.hn=function(c){this.first.get(c);var b=l();this.second.get(b);c.N(c.data===b.data?1:0);
--q};c.prototype.un=function(c){this.first.get(c);var b=l();this.second.get(b);c.N(c.data!==b.data?1:0);--q};c.prototype.qn=function(c){this.first.get(c);var b=l();this.second.get(b);c.N(c.data<b.data?1:0);--q};c.prototype.rn=function(c){this.first.get(c);var b=l();this.second.get(b);c.N(c.data<=b.data?1:0);--q};c.prototype.ln=function(c){this.first.get(c);var b=l();this.second.get(b);c.N(c.data>b.data?1:0);--q};c.prototype.mn=function(c){this.first.get(c);var b=l();this.second.get(b);c.N(c.data>=
b.data?1:0);--q};c.prototype.jn=function(c){var b=this.rd.Vn();ha(b)?c.B(b):c.Ta(b)};U=c;p.prototype.ae=function(){return this.type===V.Pd};p.prototype.ma=function(){return this.type===V.Rd||this.type===V.Pd};p.prototype.de=function(){return this.type===V.String};p.prototype.je=function(){this.ae()||(this.de()&&(this.data=parseFloat(this.data)),this.type=V.Pd)};p.prototype.N=function(c){this.type=V.Rd;this.data=Math.floor(c)};p.prototype.B=function(c){this.type=V.Pd;this.data=c};p.prototype.Ta=function(c){this.type=
V.String;this.data=c};p.prototype.lp=function(c){ha(c)?(this.type=V.Pd,this.data=c):J(c)?(this.type=V.String,this.data=c.toString()):(this.type=V.Rd,this.data=0)};Ob=p;V={Rd:0,Pd:1,String:2}})();function Z(c){this.b=c;this.Va=[]}
Z.prototype.fc=function(){var c={},l,n,p,v,q,h,b,d;c.waits=[];var e=c.waits,a;l=0;for(n=this.Va.length;l<n;l++){h=this.Va[l];a={t:h.time,st:h.mp,s:h.ol,ev:h.Ne.C,sm:[],sols:{}};h.Ne.sb[h.cb]&&(a.act=h.Ne.sb[h.cb].C);p=0;for(v=h.ba.length;p<v;p++)a.sm.push(h.ba[p].C);for(q in h.Ua)if(h.Ua.hasOwnProperty(q)){b=this.b.d[parseInt(q,10)];d={sa:h.Ua[q].cl,insts:[]};p=0;for(v=h.Ua[q].xd.length;p<v;p++)d.insts.push(h.Ua[q].xd[p].uid);a.sols[b.C.toString()]=d}e.push(a)}return c};
Z.prototype.Tc=function(c){c=c.waits;var l,n,p,v,q,h,b,d,e,a,f;R(this.Va);l=0;for(n=c.length;l<n;l++)if(h=c[l],d=this.b.ij[h.ev.toString()]){e=-1;p=0;for(v=d.sb.length;p<v;p++)if(d.sb[p].C===h.act){e=p;break}if(-1!==e){b={Ua:{},ba:[],tj:!1};b.time=h.t;b.mp=h.st||"";b.ol=!!h.s;b.Ne=d;b.cb=e;p=0;for(v=h.sm.length;p<v;p++)(d=this.b.bg(h.sm[p]))&&b.ba.push(d);for(q in h.sols)if(h.sols.hasOwnProperty(q)&&(d=this.b.bg(parseInt(q,10)))){e=h.sols[q];a={cl:e.sa,xd:[]};p=0;for(v=e.insts.length;p<v;p++)(f=this.b.Mj(e.insts[p]))&&
a.xd.push(f);b.Ua[d.index.toString()]=a}this.Va.push(b)}}};
(function(){function c(){}function l(){}var n=Z.prototype;c.prototype.$l=function(){return!0};c.prototype.Zl=function(){return!0};c.prototype.Ql=function(){var c=this.b.Pa();return c.ph?!1:!c.Dd};c.prototype.Vi=function(){return!0};c.prototype.Xl=function(){return!0};c.prototype.Sg=function(){return!0};c.prototype.Wi=function(){return!0};c.prototype.am=function(){return!0};c.prototype.Jf=function(){return!0};c.prototype.Ml=function(c,h,b){return Ja(S(c),S(b))<=S(h)};c.prototype.Sl=function(c,h){return La(S(c),
S(h))};c.prototype.Rl=function(c,h,b){c=Ha(c);h=Ha(h);b=Ha(b);return La(b,h)?La(c,h)&&!La(c,b):!(!La(c,h)&&La(c,b))};n.I=new c;var p=[],v=[];n.Kf=new function(){};l.prototype["int"]=function(c,h){J(h)?(c.N(parseInt(h,10)),isNaN(c.data)&&(c.data=0)):c.N(h)};l.prototype["float"]=function(c,h){J(h)?(c.B(parseFloat(h)),isNaN(c.data)&&(c.data=0)):c.B(h)};l.prototype.random=function(c,h,b){void 0===b?c.B(Math.random()*h):c.B(Math.random()*(b-h)+h)};l.prototype.sqrt=function(c,h){c.B(Math.sqrt(h))};l.prototype.abs=
function(c,h){c.B(Math.abs(h))};l.prototype.round=function(c,h){c.N(Math.round(h))};l.prototype.floor=function(c,h){c.N(Math.floor(h))};l.prototype.ceil=function(c,h){c.N(Math.ceil(h))};l.prototype.sin=function(c,h){c.B(Math.sin(S(h)))};l.prototype.cos=function(c,h){c.B(Math.cos(S(h)))};l.prototype.tan=function(c,h){c.B(Math.tan(S(h)))};l.prototype.asin=function(c,h){c.B(Da(Math.asin(h)))};l.prototype.acos=function(c,h){c.B(Da(Math.acos(h)))};l.prototype.atan=function(c,h){c.B(Da(Math.atan(h)))};
l.prototype.exp=function(c,h){c.B(Math.exp(h))};l.prototype.log10=function(c,h){c.B(Math.log(h)/Math.LN10)};l.prototype.max=function(c){var h=arguments[1];"number"!==typeof h&&(h=0);var b,d,e;b=2;for(d=arguments.length;b<d;b++)e=arguments[b],"number"===typeof e&&h<e&&(h=e);c.B(h)};l.prototype.min=function(c){var h=arguments[1];"number"!==typeof h&&(h=0);var b,d,e;b=2;for(d=arguments.length;b<d;b++)e=arguments[b],"number"===typeof e&&h>e&&(h=e);c.B(h)};l.prototype.Xd=function(c){c.B(this.b.Xd)};l.prototype.Ef=
function(c){c.B(this.b.Ef)};l.prototype.time=function(c){c.B(this.b.ib.Z)};l.prototype.Df=function(c){c.N(this.b.Df)};l.prototype.vg=function(c){c.N(this.b.vg)};l.prototype.wh=function(c){c.N(this.b.wh)};l.prototype.k=function(c,h,b,d,e){c.B(Da(Ia(h,b,d,e)))};l.prototype.left=function(c,h,b){c.Ta(J(h)?h.substr(0,b):"")};l.prototype.right=function(c,h,b){c.Ta(J(h)?h.substr(h.length-b):"")};l.prototype.replace=function(c,h,b,d){J(h)&&J(b)&&J(d)?c.Ta(h.replace(new RegExp(Wa(b),"gi"),d)):c.Ta(J(h)?h:
"")};l.prototype.trim=function(c,h){c.Ta(J(h)?h.trim():"")};l.prototype.nm=function(c){var h=K(Math.random()*(arguments.length-1));c.lp(arguments[h+1])};l.prototype.kh=function(c){c.B(this.b.kh/1E3)};l.prototype.og=function(c){c.B(this.b.og)};n.sd=new l;n.bp=function(){var c,h,b,d,e,a,f=this.b.Pa();c=0;for(b=this.Va.length;c<b;c++){d=this.Va[c];if(-1===d.time){if(!d.ol)continue}else if(d.time>this.b.ib.Z)continue;f.xb=d.Ne;f.cb=d.cb;f.Ma=0;for(h in d.Ua)d.Ua.hasOwnProperty(h)&&(e=this.b.d[parseInt(h,
10)].P(),a=d.Ua[h],e.ea=a.cl,wa(e.c,a.xd),e=a,R(e.xd),v.push(e));d.Ne.$o();this.b.ih(d.ba);d.tj=!0}h=c=0;for(b=this.Va.length;c<b;c++)d=this.Va[c],this.Va[h]=d,d.tj?(Qa(d.Ua),R(d.ba),p.push(d)):h++;ua(this.Va,h)}})();
(function(){fb=function(c,n){var p=c[1],v=c[3],q=c[4],h=c[5],b=c[6],d=c[7],e=c[8];n.I||(n.I={});n.Kf||(n.Kf={});n.sd||(n.sd={});var a=n.I,f=n.Kf,k=n.sd;v&&(a.Op=function(a,b){return Rb(this.x,a,b)},a.Pp=function(a,b){return Rb(this.y,a,b)},a.Wp=function(){var a=this.g;this.Ga();var b=this.ya;return!(b.right<a.K||b.bottom<a.L||b.left>a.R||b.top>a.Q)},a.Xp=function(){this.Ga();var a=this.ya,b=this.b.H;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.jq=function(a,b,d){var e=this.P(),
c=e.zb();if(!c.length)return!1;var f=c[0],k=f,h=Na(f.x,f.y,b,d),l,n,p;l=1;for(n=c.length;l<n;l++)if(f=c[l],p=Na(f.x,f.y,b,d),0===a&&p<h||1===a&&p>h)h=p,k=f;e.sf(k);return!0},f.Eq=function(a){this.x!==a&&(this.x=a,this.pa())},f.Fq=function(a){this.y!==a&&(this.y=a,this.pa())},f.yq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.pa()},f.zq=function(a,b){var d=a.Rn(this);if(d){var e;d.Ch?(e=d.Ch(b,!0),d=d.Ch(b,!1)):(e=d.x,d=d.y);if(this.x!==e||this.y!==d)this.x=e,this.y=d,this.pa()}},
f.bq=function(a){0!==a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.pa())},f.aq=function(a,b){0!==b&&(this.x+=Math.cos(S(a))*b,this.y+=Math.sin(S(a))*b,this.pa())},k.Kq=function(a){a.B(this.x)},k.Lq=function(a){a.B(this.y)},k.Xd=function(a){a.B(this.b.Ij(this))});q&&(a.Np=function(a,b){return Rb(this.width,a,b)},a.Kp=function(a,b){return Rb(this.height,a,b)},f.Dq=function(a){this.width!==a&&(this.width=a,this.pa())},f.vq=function(a){this.height!==a&&(this.height=a,this.pa())},f.Aq=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.pa()},k.Jq=function(a){a.B(this.width)},k.Sp=function(a){a.B(this.height)},k.Gp=function(a){this.Ga();a.B(this.ya.left)},k.Ip=function(a){this.Ga();a.B(this.ya.top)},k.Hp=function(a){this.Ga();a.B(this.ya.right)},k.Fp=function(a){this.Ga();a.B(this.ya.bottom)});h&&(a.Ml=function(a,b){return Ja(this.k,S(b))<=S(a)},a.Sl=function(a){return La(this.k,S(a))},a.Rl=function(a,b){var d=Ha(a),e=Ha(b),c=Fa(this.k);return La(e,
d)?La(c,d)&&!La(c,e):!(!La(c,d)&&La(c,e))},f.rq=function(a){a=S(Ea(a));isNaN(a)||this.k===a||(this.k=a,this.pa())},f.nq=function(a){0===a||isNaN(a)||(this.k+=S(a),this.k=Fa(this.k),this.pa())},f.oq=function(a){0===a||isNaN(a)||(this.k-=S(a),this.k=Fa(this.k),this.pa())},f.pq=function(a,b){var d=Ka(this.k,S(b),S(a));isNaN(d)||this.k===d||(this.k=d,this.pa())},f.qq=function(a,b,d){a=Ka(this.k,Math.atan2(d-this.y,b-this.x),S(a));isNaN(a)||this.k===a||(this.k=a,this.pa())},f.Bq=function(a,b){var d=Math.atan2(b-
this.y,a-this.x);isNaN(d)||this.k===d||(this.k=d,this.pa())},k.Ep=function(a){a.B(Ga(this.k))});p||(a.Lp=function(a,b,d){return Rb(this.ga[a],b,d)},a.Up=function(a){return this.ga[a]},a.kq=function(a,b){var d=this.P(),e=d.zb();if(!e.length)return!1;var c=e[0],f=c,k=c.ga[b],h,l,n;h=1;for(l=e.length;h<l;h++)if(c=e[h],n=c.ga[b],0===a&&n<k||1===a&&n>k)k=n,f=c;d.sf(f);return!0},a.iq=function(a){var b,d,e,c,f;if(this.b.Jn().Ph){f=this.P();if(f.ea)for(f.ea=!1,R(f.c),R(f.D),e=this.c,b=0,d=e.length;b<d;b++)c=
e[b],c.uid===a?f.D.push(c):f.c.push(c);else{e=b=0;for(d=f.c.length;b<d;b++)c=f.c[b],f.c[e]=c,c.uid===a?f.D.push(c):e++;ua(f.c,e)}this.fd();return!!f.c.length}c=this.b.Mj(a);if(!c)return!1;f=this.P();if(!f.ea&&-1===f.c.indexOf(c))return!1;if(this.F)for(a=c.type.T,b=0,d=a.length;b<d;b++){if(a[b]===this)return f.sf(c),this.fd(),!0}else if(c.type===this)return f.sf(c),this.fd(),!0;return!1},a.Ui=function(){return!0},a.Yl=function(){return!0},f.wq=function(a,b){var d=this.ga;ha(d[a])?d[a]=ha(b)?b:parseFloat(b):
J(d[a])&&(d[a]=J(b)?b:b.toString())},f.Dp=function(a,b){var d=this.ga;ha(d[a])?d[a]=ha(b)?d[a]+b:d[a]+parseFloat(b):J(d[a])&&(d[a]=J(b)?d[a]+b:d[a]+b.toString())},f.Gq=function(a,b){var d=this.ga;ha(d[a])&&(d[a]=ha(b)?d[a]-b:d[a]-parseFloat(b))},f.sq=function(a,b){this.ga[a]=b?1:0},f.Hq=function(a){this.ga[a]=1-this.ga[a]},f.Rp=function(){this.b.Od(this)},f.Ul||(f.Ul=function(a){var b,d;try{b=JSON.parse(a)}catch(e){return}this.b.ng(this,b,!0);this.cd&&this.cd();if(this.r)for(a=0,b=this.r.length;a<
b;++a)d=this.r[a],d.cd&&d.cd()}),k.Qp=function(a){var b=a.Id.c.length,d,e,c;d=0;for(e=this.b.Sb.length;d<e;d++)c=this.b.Sb[d],a.Id.F?0<=c.type.T.indexOf(a.Id)&&b++:c.type===a.Id&&b++;a.N(b)},k.mq=function(a){a.N(a.Id.P().zb().length)},k.Iq=function(a){a.N(this.uid)},k.Tp=function(a){a.N(this.Re())},k.Nl||(k.Nl=function(a){a.Ta(JSON.stringify(this.b.Ei(this,!0)))}));b&&(a.Yp=function(){return this.visible},f.Cq=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.J=!0)},a.Mp=function(a,b){return Rb(bb(100*
this.opacity),a,b)},f.xq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.J=!0)},k.Opacity=function(a){a.B(bb(100*this.opacity))});d&&(a.Vp=function(a){return a?this.g===a:!1},a.lq=function(a){var b=this.P(),d=b.zb();if(!d.length)return!1;var e=d[0],c=e,f,k;f=1;for(k=d.length;f<k;f++)if(e=d[f],0===a){if(e.g.index>c.g.index||e.g.index===c.g.index&&e.Wb()>c.Wb())c=e}else if(e.g.index<c.g.index||e.g.index===c.g.index&&e.Wb()<c.Wb())c=e;b.sf(c);return!0},f.fq=function(){var a=
this.g,b=a.c;b.length&&b[b.length-1]===this||(a.qe(this,!1),a.De(this,!1),this.b.J=!0)},f.cq=function(){var a=this.g,b=a.c;b.length&&b[0]===this||(a.qe(this,!1),a.Uo(this),this.b.J=!0)},f.dq=function(a){a&&a!=this.g&&(this.g.qe(this,!0),this.g=a,a.De(this,!0),this.b.J=!0)},f.Nq=function(a,b){var d=0===a;if(b){var e=b.Kn(this);e&&e.uid!==this.uid&&(this.g.index!==e.g.index&&(this.g.qe(this,!0),this.g=e.g,e.g.De(this,!0)),this.g.Ho(this,e,d),this.b.J=!0)}},k.$p=function(a){a.N(this.g.Fk)},k.Zp=function(a){a.Ta(this.g.name)},
k.Mq=function(a){a.N(this.Wb())});e&&(f.tq=function(a,b){if(this.b.j){var d=this.type.Bh(b);if(!(0>d)){var e=1===a;this.Gc[d]!==e&&(this.Gc[d]=e,this.Ib(),this.b.J=!0)}}},f.uq=function(a,b,d){if(this.b.j){var e=this.type.Bh(a);0>e||(a=this.type.p[e],e=this.W[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.j.Un(a.fa,b)&&(d/=100),e[b]!==d&&(e[b]=d,a.Wa&&(this.b.J=!0))))}})};yb=function(){this.bh=this.Wg=!0;this.type.aj=!0;this.b.J=!0;var c,n,p=this.Xg;c=0;for(n=p.length;c<n;++c)p[c](this);this.g.bb&&
this.Ga()};zb=function(c){c&&this.Xg.push(c)};Bb=function(){if(this.Wg){var c=this.ya,n=this.Lf;c.set(this.x,this.y,this.x+this.width,this.y+this.height);c.offset(-this.Qa*this.width,-this.Ra*this.height);this.k?(c.offset(-this.x,-this.y),n.ll(c,this.k),n.offset(this.x,this.y),n.jj(c)):n.Eg(c);c.normalize();this.Wg=!1;this.xp()}};var c=new P(0,0,0,0);Cb=function(){if(this.g.bb){var l=this.g.wa,n=this.ya;c.set(l.Ha(n.left),l.Ia(n.top),l.Ha(n.right),l.Ia(n.bottom));this.Ja.Me(c)||(this.Ja.right<this.Ja.left?
l.update(this,null,c):l.update(this,this.Ja,c),this.Ja.Ie(c),this.g.Gb=!0)}};Db=function(){if(this.bh&&this.Ge){this.Ga();var l=this.type.pj,n=this.ya;c.set(l.Ha(n.left),l.Ia(n.top),l.Ha(n.right),l.Ia(n.bottom));this.Mc.Me(c)||(this.Mc.right<this.Mc.left?l.update(this,null,c):l.update(this,this.Mc,c),this.Mc.Ie(c),this.bh=!1)}};Ab=function(c,n){return this.ya.Rb(c,n)&&this.Lf.Rb(c,n)?this.Qb&&!this.Qb.zo()?(this.Qb.lm(this.width,this.height,this.k),this.Qb.Rb(c-this.x,n-this.y)):!0:!1};ub=function(){this.type.Ng();
return this.vd};Eb=function(){this.g.Qi();return this.Kb};Fb=function(){R(this.G);var c,n,p,v=!0;c=0;for(n=this.Gc.length;c<n;c++)this.Gc[c]&&(p=this.type.p[c],this.G.push(p),p.Eb||(v=!1));this.Jl=!!this.G.length;this.yc=v};vb=function(){return"Inst"+this.Xk};ib=function(c){if(c&&c.hb&&c.type!=this){var n,p,v;n=0;for(p=c.siblings.length;n<p;n++)if(v=c.siblings[n],v.type==this)return v}c=this.P().zb();return c.length?c[0]:null};jb=function(c){var n=this.P().zb();return n.length?n[c.Re()%n.length]:
null};hb=function(){if(this.ue&&!this.F){var c,n;c=0;for(n=this.c.length;c<n;c++)this.c[c].vd=c;var p=c,v=this.b.Sb;c=0;for(n=v.length;c<n;++c)v[c].type===this&&(v[c].vd=p++);this.ue=!1}};sb=function(c){if(c<this.c.length)return this.c[c];c-=this.c.length;var n=this.b.Sb,p,v;p=0;for(v=n.length;p<v;++p)if(n[p].type===this){if(0===c)return n[p];--c}return null};kb=function(){return this.Ac[this.Tb]};lb=function(){this.Tb++;this.Tb===this.Ac.length?this.Ac.push(new gb(this)):(this.Ac[this.Tb].ea=!0,
R(this.Ac[this.Tb].D))};mb=function(){this.Tb++;this.Tb===this.Ac.length&&this.Ac.push(new gb(this));var c=this.Ac[this.Tb],n=this.Ac[this.Tb-1];n.ea?(c.ea=!0,R(c.D)):(c.ea=!1,wa(c.c,n.c),wa(c.D,n.D))};nb=function(){this.Tb--};ob=function(c){var n,p,v,q,h,b=0;if(!this.F)for(n=0,p=this.T.length;n<p;n++)for(h=this.T[n],v=0,q=h.U.length;v<q;v++){if(c===h.U[v].name)return this.S.lastBehIndex=b,h.U[v];b++}n=0;for(p=this.U.length;n<p;n++){if(c===this.U[n].name)return this.S.lastBehIndex=b,this.U[n];b++}return null};
pb=function(c){return this.$f(c)?this.S.lastBehIndex:-1};qb=function(c){var n,p;n=0;for(p=this.p.length;n<p;n++)if(this.p[n].name===c)return n;return-1};rb=function(){if(this.hb&&!this.F){var c,n,p,v,q,h,b;this.Ng();h=this.P();var d=h.ea,e=(c=this.b.Pa())&&c.xb&&c.xb.Yb;c=0;for(n=this.Na.length;c<n;c++)if(q=this.Na[c],q!==this&&(q.Ng(),b=q.P(),b.ea=d,!d)){R(b.c);p=0;for(v=h.c.length;p<v;++p)b.c[p]=q.Dh(h.c[p].vd);if(e)for(R(b.D),p=0,v=h.D.length;p<v;++p)b.D[p]=q.Dh(h.D[p].vd)}}};tb=function(){return"Type"+
this.C};Rb=function(c,n,p){if("undefined"===typeof c||"undefined"===typeof p)return!1;switch(n){case 0:return c===p;case 1:return c!==p;case 2:return c<p;case 3:return c<=p;case 4:return c>p;case 5:return c>=p;default:return!1}}})();var Zb={};function $b(c){this.b=c}
(function(){function c(){if(0===this.nh.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var c=b.getContext("2d");this.te?c.drawImage(this.qa,this.ke,this.le,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.qa,0,0,this.width,this.height);this.nh=b.toDataURL("image/png")}return this.nh}function l(){}var n=$b.prototype;n.Tg=function(b){this.Da=b;this.b=b.b};var p=n.Tg.prototype;p.lb=function(){if(!this.F){var b,e,a,f,k,g,h,l,n;this.tb=[];this.Ue=
!1;b=0;for(e=this.La.length;b<e;b++){k=this.La[b];h={};h.name=k[0];h.speed=k[1];h.loop=k[2];h.xi=k[3];h.yi=k[4];h.Pk=k[5];h.C=k[6];h.frames=[];a=0;for(f=k[7].length;a<f;a++)g=k[7][a],l={},l.ul=g[0],l.wl=g[1],l.ke=g[2],l.le=g[3],l.width=g[4],l.height=g[5],l.duration=g[6],l.Qa=g[7],l.Ra=g[8],l.Kh=g[9],l.wg=g[10],l.Qk=g[11],l.te=0!==l.width,l.nh="",l.Qq=c,n={left:0,top:0,right:1,bottom:1},l.Gi=n,l.Dc=null,(n=this.b.Fn(g[0]))?l.qa=n:(l.qa=new Image,l.qa.qm=g[0],l.qa.pm=g[1],l.qa.km=null,this.b.Ap(l.qa,
g[0])),h.frames.push(l),this.tb.push(l);this.La[b]=h}}};p.Il=function(){var b,c,a;b=0;for(c=this.c.length;b<c;b++)a=this.c[b],a.Pf=a.ra.Dc};p.Kk=function(){if(!this.F){var b,c,a;b=0;for(c=this.tb.length;b<c;++b)a=this.tb[b],a.qa.km=null,a.Dc=null;this.Ue=!1;this.Il()}};p.Lk=function(){if(!this.F&&this.c.length){var b,c,a;b=0;for(c=this.tb.length;b<c;++b)a=this.tb[b],a.Dc=this.b.j.hk(a.qa,this.b.da,a.Qk);this.Il()}};p.Do=function(){if(!this.F&&!this.Ue&&this.b.j){var b,c,a;b=0;for(c=this.tb.length;b<
c;++b)a=this.tb[b],a.Dc=this.b.j.hk(a.qa,this.b.da,a.Qk);this.Ue=!0}};p.Fl=function(){if(!this.F&&!this.c.length&&this.Ue){var b,c,a;b=0;for(c=this.tb.length;b<c;++b)a=this.tb[b],this.b.j.deleteTexture(a.Dc),a.Dc=null;this.Ue=!1}};var v=[];p.Uk=function(b){var c,a,f;R(v);c=0;for(a=this.tb.length;c<a;++c)f=this.tb[c].qa,-1===v.indexOf(f)&&(b.drawImage(f,0,0),v.push(f))};n.Qd=function(b){this.type=b;this.b=b.b;b=this.type.La[0].frames[0].wg;this.$b?this.Qb.yf(b):this.Qb=new Xa(b)};var q=n.Qd.prototype;
q.lb=function(){this.visible=0===this.Yc[0];this.Ge=0!==this.Yc[3];this.O=this.Gj(this.Yc[1])||this.type.La[0];this.i=this.Yc[2];0>this.i&&(this.i=0);this.i>=this.O.frames.length&&(this.i=this.O.frames.length-1);var b=this.O.frames[this.i];this.Qb.yf(b.wg);this.Qa=b.Qa;this.Ra=b.Ra;this.Ud=this.O.speed;this.Nc=this.O.yi;1===this.type.La.length&&1===this.type.La[0].frames.length||0===this.Ud||this.b.rp(this);this.$b?this.Lb.reset():this.Lb=new Va;this.rc=this.Lb.Z;this.ed=!0;this.lc=0;this.dd=!0;this.gh=
this.Zi="";this.mm=0;this.fh=-1;this.type.Do();var c,a,f,k,g,h,l,b=0;for(c=this.type.La.length;b<c;b++)for(k=this.type.La[b],a=0,f=k.frames.length;a<f;a++)g=k.frames[a],0===g.width&&(g.width=g.qa.width,g.height=g.qa.height),g.te&&(l=g.qa,h=g.Gi,h.left=g.ke/l.width,h.top=g.le/l.height,h.right=(g.ke+g.width)/l.width,h.bottom=(g.le+g.height)/l.height,0===g.ke&&0===g.le&&g.width===l.width&&g.height===l.height&&(g.te=!1));this.ra=this.O.frames[this.i];this.Pf=this.ra.Dc};q.fc=function(){var b={a:this.O.C,
f:this.i,cas:this.Ud,fs:this.rc,ar:this.lc,at:this.Lb.Z,rt:this.Nc};this.ed||(b.ap=this.ed);this.dd||(b.af=this.dd);return b};q.Tc=function(b){var c=this.Hn(b.a);c&&(this.O=c);this.i=b.f;0>this.i&&(this.i=0);this.i>=this.O.frames.length&&(this.i=this.O.frames.length-1);this.Ud=b.cas;this.rc=b.fs;this.lc=b.ar;this.Lb.reset();this.Lb.Z=b.at;this.ed=b.hasOwnProperty("ap")?b.ap:!0;this.dd=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.Nc=b.rt:this.Nc=this.O.yi;this.ra=this.O.frames[this.i];
this.Pf=this.ra.Dc;this.Qb.yf(this.ra.wg);this.Qa=this.ra.Qa;this.Ra=this.ra.Ra};q.Vg=function(b){this.i=b?0:this.O.frames.length-1;this.ed=!1;this.Zi=this.O.name;this.b.trigger($b.prototype.I.Wl,this);this.b.trigger($b.prototype.I.Vl,this);this.lc=0};q.hm=function(){return this.Lb.Z};q.we=function(){this.Lb.add(this.b.Ij(this));this.gh.length&&this.wm();0<=this.fh&&this.xm();var b=this.Lb.Z,c=this.O,a=c.frames[this.i],f=a.duration/this.Ud;this.ed&&b>=this.rc+f&&(this.dd?this.i++:this.i--,this.rc+=
f,this.i>=c.frames.length&&(c.Pk?(this.dd=!1,this.i=c.frames.length-2):c.loop?this.i=this.Nc:(this.lc++,this.lc>=c.xi?this.Vg(!1):this.i=this.Nc)),0>this.i&&(c.Pk?(this.i=1,this.dd=!0,c.loop||(this.lc++,this.lc>=c.xi&&this.Vg(!0))):c.loop?this.i=this.Nc:(this.lc++,this.lc>=c.xi?this.Vg(!0):this.i=this.Nc)),0>this.i?this.i=0:this.i>=c.frames.length&&(this.i=c.frames.length-1),b>this.rc+c.frames[this.i].duration/this.Ud&&(this.rc=b),b=c.frames[this.i],this.Sd(a,b),this.b.J=!0)};q.Gj=function(b){var c,
a,f;c=0;for(a=this.type.La.length;c<a;c++)if(f=this.type.La[c],cb(f.name,b))return f;return null};q.Hn=function(b){var c,a,f;c=0;for(a=this.type.La.length;c<a;c++)if(f=this.type.La[c],f.C===b)return f;return null};q.wm=function(){var b=this.O.frames[this.i],c=this.Gj(this.gh);this.gh="";!c||cb(c.name,this.O.name)&&this.ed||(this.O=c,this.Ud=c.speed,this.Nc=c.yi,0>this.i&&(this.i=0),this.i>=this.O.frames.length&&(this.i=this.O.frames.length-1),1===this.mm&&(this.i=0),this.ed=!0,this.rc=this.Lb.Z,this.dd=
!0,this.Sd(b,this.O.frames[this.i]),this.b.J=!0)};q.xm=function(){var b=this.O.frames[this.i],c=this.i;this.i=K(this.fh);0>this.i&&(this.i=0);this.i>=this.O.frames.length&&(this.i=this.O.frames.length-1);c!==this.i&&(this.Sd(b,this.O.frames[this.i]),this.rc=this.Lb.Z,this.b.J=!0);this.fh=-1};q.Sd=function(b,c){var a=b.width,f=b.height,k=c.width,g=c.height;a!=k&&(this.width*=k/a);f!=g&&(this.height*=g/f);this.Qa=c.Qa;this.Ra=c.Ra;this.Qb.yf(c.wg);this.pa();this.ra=c;this.Pf=c.Dc;a=0;for(f=this.r.length;a<
f;a++)k=this.r[a],k.Lo&&k.Lo(b,c);this.b.trigger($b.prototype.I.Sd,this)};q.md=function(b){b.globalAlpha=this.opacity;var c=this.ra,a=c.te,f=c.qa,k=this.x,g=this.y,h=this.width,l=this.height;if(0===this.k&&0<=h&&0<=l)k-=this.Qa*h,g-=this.Ra*l,this.b.Jd&&(k=Math.round(k),g=Math.round(g)),a?b.drawImage(f,c.ke,c.le,c.width,c.height,k,g,h,l):b.drawImage(f,k,g,h,l);else{this.b.Jd&&(k=Math.round(k),g=Math.round(g));b.save();var n=0<h?1:-1,m=0<l?1:-1;b.translate(k,g);1===n&&1===m||b.scale(n,m);b.rotate(this.k*
n*m);k=0-this.Qa*la(h);g=0-this.Ra*la(l);a?b.drawImage(f,c.ke,c.le,c.width,c.height,k,g,la(h),la(l)):b.drawImage(f,k,g,la(h),la(l));b.restore()}};q.Wd=function(b){this.yb(b)};q.yb=function(b){b.ob(this.Pf);b.wf(this.opacity);var c=this.ra,a=this.Lf;if(this.b.Jd){var f=Math.round(this.x)-this.x,h=Math.round(this.y)-this.y;c.te?b.Kd(a.hc+f,a.ic+h,a.jc+f,a.kc+h,a.Ob+f,a.Pb+h,a.Mb+f,a.Nb+h,c.Gi):b.vf(a.hc+f,a.ic+h,a.jc+f,a.kc+h,a.Ob+f,a.Pb+h,a.Mb+f,a.Nb+h)}else c.te?b.Kd(a.hc,a.ic,a.jc,a.kc,a.Ob,a.Pb,
a.Mb,a.Nb,c.Gi):b.vf(a.hc,a.ic,a.jc,a.kc,a.Ob,a.Pb,a.Mb,a.Nb)};q.Mn=function(b){var c=this.ra,a,f;a=0;for(f=c.Kh.length;a<f;a++)if(cb(b,c.Kh[a][0]))return a;return-1};q.Ch=function(b,c){var a=this.ra,f=a.Kh,h;J(b)?h=this.Mn(b):h=b-1;h=K(h);if(0>h||h>=f.length)return c?this.x:this.y;var g=(f[h][1]-a.Qa)*this.width,f=f[h][2],f=(f-a.Ra)*this.height,a=Math.cos(this.k);h=Math.sin(this.k);var l=g*a-f*h,f=f*a+g*h,g=l+this.x,f=f+this.y;return c?g:f};var h=new ba,b=!1;new P(0,0,0,0);p.finish=function(c){if(b){if(c){var e=
this.b.Pa().xb.Yb;c=null.P();var a=h.bd(),f,k;if(c.ea){c.ea=!1;R(c.c);f=0;for(k=a.length;f<k;++f)c.c[f]=a[f];if(e)for(R(c.D),f=0,k=null.c.length;f<k;++f)a=null.c[f],h.contains(a)||c.D.push(a)}else if(e)for(e=c.c.length,f=0,k=a.length;f<k;++f)c.c[e+f]=a[f],Ba(c.D,a[f]);else wa(c.c,a);null.fd()}h.clear();b=!1}};l.prototype.Vl=function(b){return cb(this.Zi,b)};l.prototype.Wl=function(){return!0};l.prototype.Sd=function(){return!0};n.I=new l;n.Kf=new function(){};n.sd=new function(){}})();
